{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "window",
    "AlertViewBtnType",
    "cc",
    "Enum",
    "E_BTN_CLOSE",
    "E_BTN_CANCLE",
    "MusicMgr",
    "require",
    "Audio_Common",
    "GameSystem",
    "AView",
    "rootNode",
    "btnTypeFlag",
    "_positiveFlag",
    "_negativeFlag",
    "_callbackPositive",
    "_callbackNegative",
    "positive",
    "negative",
    "positive_single",
    "btnclose",
    "positiveName",
    "negativeName",
    "positiveBtResNormal",
    "reSet",
    "dismiss",
    "removeFromParent",
    "show",
    "tips",
    "btnType",
    "parent",
    "tag",
    "self",
    "loadPrefabs",
    "view",
    "updateView",
    "undefined",
    "showOne",
    "removeChildByTag",
    "director",
    "getScene",
    "node",
    "on",
    "Node",
    "EventType",
    "TOUCH_START",
    "event",
    "stopPropagation",
    "desTxt",
    "find",
    "getComponent",
    "Label",
    "string",
    "active",
    "setPositiveSingleName",
    "setPositiveButtonName",
    "setNegativeButtonName",
    "addButtonListenner",
    "scaleTo",
    "TOUCH_END",
    "log",
    "playEffect",
    "AUDIO_BTN_CLICK",
    "setPositiveButton",
    "callback",
    "name",
    "setNegativeButton",
    "lable",
    "AlertView",
    "create",
    "module",
    "exports"
  ],
  "mappings": ";;AAAAA,OAAOC,gBAAP,GAA0BC,GAAGC,IAAH,CAAQ;AAC9BC,iBAAc,CADgB,EACN;AACxBC,kBAAe,CAFe,EAAR,CAA1B;;AAKA,IAAIC,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,eAAeD,QAAQ,cAAR,CAAnB;AACA,IAAIE,aAAaF,QAAQ,YAAR,CAAjB;;AAEA,SAASG,KAAT,GAAiB;;AAGb,SAAKC,QAAL,GAA0B,IAA1B;AACA,SAAKC,WAAL,GAA0BX,iBAAiBG,WAA3C;AACA,SAAKS,aAAL,GAA0B,KAA1B;AACA,SAAKC,aAAL,GAA0B,KAA1B;AACA,SAAKC,iBAAL,GAA2B,IAA3B;AACA,SAAKC,iBAAL,GAA2B,IAA3B;AACA,SAAKC,QAAL,GAA2B,IAA3B;AACA,SAAKC,QAAL,GAA0B,IAA1B;AACA,SAAKC,eAAL,GAA0B,IAA1B;AACA,SAAKC,QAAL,GAA0B,IAA1B;AACA,SAAKC,YAAL,GAA0B,EAA1B;AACA,SAAKC,YAAL,GAA0B,EAA1B;;AAIA,SAAKC,mBAAL,GAA2B,IAA3B;;AAGA,SAAKC,KAAL,GAAa,YAAU;AACnB,aAAKZ,WAAL,GAA0BX,iBAAiBG,WAA3C;AACA,aAAKS,aAAL,GAA0B,KAA1B;AACA,aAAKC,aAAL,GAA0B,KAA1B;AACA,aAAKC,iBAAL,GAA2B,IAA3B;AACA,aAAKC,iBAAL,GAA2B,IAA3B;AACA,aAAKC,QAAL,GAA2B,IAA3B;AACA,aAAKC,QAAL,GAA4B,IAA5B;AACA,aAAKC,eAAL,GAA4B,IAA5B;AACA,aAAKC,QAAL,GAA0B,IAA1B;AACA,aAAKC,YAAL,GAA0B,EAA1B;AACA,aAAKC,YAAL,GAA0B,EAA1B;AAEF,KAbF;;AAeA,SAAKG,OAAL,GAAe,YAAU;;AAErB,YAAG,KAAKd,QAAR,EAAiB;AACb,iBAAKa,KAAL;AACA,iBAAKb,QAAL,CAAce,gBAAd,CAA+B,IAA/B;AACA,iBAAKf,QAAL,GAAgB,IAAhB;AACH;AAEJ,KARD;;AAUA,SAAKgB,IAAL,GAAY,UAAUC,IAAV,EAAeC,OAAf,EAAwBC,MAAxB,EAAgCC,GAAhC,EAAqC;AAC7C,aAAKN,OAAL;AACA,YAAIO,OAAO,IAAX;;AAEAhC,eAAOiC,WAAP,CAAmB,mBAAnB,EAAwC,UAAUC,IAAV,EAAgB;;AAEpDF,iBAAKrB,QAAL,GAAgBuB,IAAhB;AACAF,iBAAKG,UAAL,CAAgBD,IAAhB,EAAqBN,IAArB,EAA0BC,OAA1B,EAAmCC,MAAnC;AACA,gBAAGC,OAAOK,SAAV,EACA;AACIJ,qBAAKrB,QAAL,CAAcoB,GAAd,GAAoBA,GAApB;AACH;AACJ,SARD,EAQED,MARF;AASH,KAbD;;AAeA,SAAKO,OAAL,GAAe,UAAST,IAAT,EAAeC,OAAf,EAAuBC,MAAvB,EACf;AACI,YAAIA,MAAJ,EACA;AACIA,mBAAOQ,gBAAP,CAAwB,CAAC,GAAzB;AACH,SAHD,MAKA;AACIpC,eAAGqC,QAAH,CAAYC,QAAZ,GAAuBF,gBAAvB,CAAwC,CAAC,GAAzC;AACH;AACD,aAAKX,IAAL,CAAUC,IAAV,EAAgBC,OAAhB,EAAwBC,MAAxB,EAAgC,CAAC,GAAjC;AACH,KAXD;;AAaA,SAAKK,UAAL,GAAkB,UAASM,IAAT,EAAcb,IAAd,EAAmBC,OAAnB,EAA4BC,MAA5B,EAAmC;AACjD,YAAIE,OAAO,IAAX;AACAS,aAAKC,EAAL,CAAQxC,GAAGyC,IAAH,CAAQC,SAAR,CAAkBC,WAA1B,EAAsC,UAAUC,KAAV,EAAiB;AACnDA,kBAAMC,eAAN;AACA;AACH,SAHD;;AAKA,aAAKnC,WAAL,GAAoBiB,OAApB;;AAEA,YAAGD,QAAQ,EAAR,IAAcA,SAASQ,SAA1B,EAAoC;AAChCR,mBAAO,MAAP;AACH;;AAGD,YAAIoB,SAAS9C,GAAG+C,IAAH,CAAQ,YAAR,EAAqBR,IAArB,EAA2BS,YAA3B,CAAwChD,GAAGiD,KAA3C,CAAb;;AAEAH,eAAOI,MAAP,GAAgBxB,IAAhB;AACA,aAAKT,eAAL,GAAuBjB,GAAG+C,IAAH,CAAQ,kBAAR,EAA2BR,IAA3B,CAAvB;AACA,aAAKvB,QAAL,GAAgBhB,GAAG+C,IAAH,CAAQ,cAAR,EAAuBR,IAAvB,CAAhB;AACA,aAAKxB,QAAL,GAAgBf,GAAG+C,IAAH,CAAQ,YAAR,EAAqBR,IAArB,CAAhB;AACA,aAAKrB,QAAL,GAAgBlB,GAAG+C,IAAH,CAAQ,aAAR,EAAsBR,IAAtB,CAAhB;AACA,YAAG,KAAK7B,WAAL,IAAoBX,iBAAiBG,WAAxC,EACA;AACI,iBAAKc,QAAL,CAAcmC,MAAd,GAAuB,KAAvB;AACA,iBAAKpC,QAAL,CAAcoC,MAAd,GAAuB,KAAvB;AACA,iBAAKlC,eAAL,CAAqBkC,MAArB,GAA8B,IAA9B;AACA,iBAAKjC,QAAL,CAAciC,MAAd,GAAuB,IAAvB;AACH,SAND,MAQA;AACI,iBAAKnC,QAAL,CAAcmC,MAAd,GAAuB,IAAvB;AACA,iBAAKpC,QAAL,CAAcoC,MAAd,GAAuB,IAAvB;AACA,iBAAKlC,eAAL,CAAqBkC,MAArB,GAA8B,KAA9B;AACA,iBAAKjC,QAAL,CAAciC,MAAd,GAAuB,KAAvB;AACH;;AAED,YAAG,KAAKhC,YAAL,IAAqB,EAArB,IAA2B,KAAKA,YAAL,IAAqBe,SAAnD,EACA;AACI,gBAAG,KAAKxB,WAAL,IAAoBX,iBAAiBG,WAAxC,EACA;AACI,qBAAKkD,qBAAL,CAA2B,KAAKjC,YAAhC;AACH,aAHD,MAKA;AACI,qBAAKkC,qBAAL,CAA2B,KAAKlC,YAAhC;AACH;AACJ;;AAED,YAAG,KAAKC,YAAL,IAAqB,EAArB,IAA2B,KAAKA,YAAL,IAAqBc,SAAnD,EACA;AACI,iBAAKoB,qBAAL,CAA2B,KAAKlC,YAAhC;AACH;;AAED,aAAKmC,kBAAL;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGAzD,eAAO0D,OAAP,CAAejB,IAAf;AACH,KApED;;AAuEA,SAAKgB,kBAAL,GAA0B,YAAY;AAClC,YAAIzB,OAAO,IAAX;AACA,YAAG,KAAKd,QAAL,CAAcmC,MAAjB,EACA;AACI,iBAAKnC,QAAL,CAAcwB,EAAd,CAAiBxC,GAAGyC,IAAH,CAAQC,SAAR,CAAkBe,SAAnC,EAA6C,YAAY;AACrDzD,mBAAG0D,GAAH,CAAO,uCAAP;AACA,oBAAG5B,KAAKpB,WAAL,IAAoBX,iBAAiBG,WAAxC,EAAoD;;AAEhDE,6BAASuD,UAAT,CAAoBrD,aAAasD,eAAjC;;AAEA,wBAAG9B,KAAKhB,iBAAR,EAA0B;AACtBgB,6BAAMhB,iBAAN;AACH;AACDgB,yBAAKP,OAAL;AACH;AACJ,aAXD;AAYH;;AAED,YAAG,KAAKL,QAAL,CAAciC,MAAjB,EACA;AACI,iBAAKjC,QAAL,CAAcsB,EAAd,CAAiBxC,GAAGyC,IAAH,CAAQC,SAAR,CAAkBe,SAAnC,EAA6C,YAAY;AACrDzD,mBAAG0D,GAAH,CAAO,uCAAP;AACA,oBAAG5B,KAAKpB,WAAL,IAAoBX,iBAAiBG,WAAxC,EAAoD;AACnDE,6BAASuD,UAAT,CAAoBrD,aAAasD,eAAjC;AACG,wBAAG9B,KAAKhB,iBAAR,EAA0B;AACtBgB,6BAAMhB,iBAAN;AACH;AACDgB,yBAAKP,OAAL;AACH;AACJ,aATD;AAUH;;AAED,YAAG,KAAKR,QAAL,CAAcoC,MAAjB,EACA;AACI,iBAAKpC,QAAL,CAAcyB,EAAd,CAAiBxC,GAAGyC,IAAH,CAAQC,SAAR,CAAkBe,SAAnC,EAA6C,YAAY;AACrDzD,mBAAG0D,GAAH,CAAO,uCAAP;AACA,oBAAG5B,KAAKpB,WAAL,IAAoBX,iBAAiBG,WAAxC,EAAoD;AACnDE,6BAASuD,UAAT,CAAoBrD,aAAasD,eAAjC;AACG,wBAAG9B,KAAKjB,iBAAR,EAA0B;AACtBiB,6BAAMjB,iBAAN;AACH;AACDiB,yBAAKP,OAAL;AACH;AACJ,aATD;AAUH;;AAED,YAAG,KAAKN,eAAL,CAAqBkC,MAAxB,EACA;;AAEI,iBAAKlC,eAAL,CAAqBuB,EAArB,CAAwBxC,GAAGyC,IAAH,CAAQC,SAAR,CAAkBe,SAA1C,EAAoD,YAAY;AAC5DzD,mBAAG0D,GAAH,CAAO,8CAAP;AACA,oBAAG5B,KAAKpB,WAAL,IAAoBX,iBAAiBG,WAAxC,EAAoD;AACnDE,6BAASuD,UAAT,CAAoBrD,aAAasD,eAAjC;AACG,wBAAG9B,KAAKjB,iBAAR,EAA0B;AACtBiB,6BAAKjB,iBAAL;AACH;AACDiB,yBAAKP,OAAL;AACH;AACJ,aATD;AAUH,SAbD,MAeA;AACI,iBAAKN,eAAL,CAAqBO,gBAArB;AACA;AACH;AAEJ,KAlED,EAqEA,KAAKqC,iBAAL,GAAyB,UAAUC,QAAV,EAAmBC,IAAnB,EACzB;AACI;AACA,aAAKlD,iBAAL,GAAyBiD,QAAzB;AACA,aAAK3C,YAAL,GAAoB4C,IAApB;AACH,KA1ED;;AA4EA,SAAKC,iBAAL,GAA0B,UAASF,QAAT,EAAkBC,IAAlB,EAC1B;AACI;AACA,aAAKjD,iBAAL,GAAyBgD,QAAzB;AACA,aAAK1C,YAAL,GAAoB2C,IAApB;AACH,KALD;;AAOA,SAAKV,qBAAL,GAA6B,UAAUU,IAAV,EAAgB;AACzC,YAAIE,QAAQjE,GAAG+C,IAAH,CAAQ,OAAR,EAAgB,KAAKhC,QAArB,CAAZ;AACAkD,cAAMjB,YAAN,CAAmBhD,GAAGiD,KAAtB,EAA6BC,MAA7B,GAAsCa,IAAtC;AACH,KAHD;;AAKA,SAAKX,qBAAL,GAA6B,UAAUW,IAAV,EAAgB;AACzC,YAAIE,QAAQjE,GAAG+C,IAAH,CAAQ,OAAR,EAAgB,KAAK9B,eAArB,CAAZ;AACAgD,cAAMjB,YAAN,CAAmBhD,GAAGiD,KAAtB,EAA6BC,MAA7B,GAAsCa,IAAtC;AACH,KAHD;;AAKA,SAAKT,qBAAL,GAA6B,UAAUS,IAAV,EAAgB;AACzC,YAAIE,QAAQjE,GAAG+C,IAAH,CAAQ,OAAR,EAAgB,KAAK/B,QAArB,CAAZ;AACAiD,cAAMjB,YAAN,CAAmBhD,GAAGiD,KAAtB,EAA6BC,MAA7B,GAAsCa,IAAtC;AACH,KAHD;;AAKA,SAAKvC,gBAAL,GAAwB,YAAY;AAChC,aAAKD,OAAL;AACH,KAFD;AAIH;;AAGD,IAAI2C,YAAY;;AAEZC,YAAU,kBAAY;AAClB,eAAO,IAAI3D,KAAJ,EAAP;AACH;;AAJW,CAAhB;;AAQA4D,OAAOC,OAAP,GAAiBH,SAAjB",
  "file": "unknown",
  "sourcesContent": [
    "window.AlertViewBtnType = cc.Enum({\r\n    E_BTN_CLOSE : 0,        //关闭和确定按钮\r\n    E_BTN_CANCLE : 1,       //取消和确定按钮\r\n});\r\n\r\nvar MusicMgr = require('MusicMgr');\r\nvar Audio_Common = require('Audio_Common');\r\nvar GameSystem = require(\"GameSystem\");\r\n\r\nfunction AView() {\r\n\r\n\r\n    this.rootNode           = null ;\r\n    this.btnTypeFlag        = AlertViewBtnType.E_BTN_CLOSE;\r\n    this._positiveFlag      = false ;\r\n    this._negativeFlag      = false ;\r\n    this._callbackPositive  =  null;\r\n    this._callbackNegative  =  null ;\r\n    this.positive           =  null ;\r\n    this.negative           = null ;\r\n    this.positive_single    = null;\r\n    this.btnclose           = null;\r\n    this.positiveName       = \"\" ;\r\n    this.negativeName       = \"\" ;\r\n\r\n\r\n\r\n    this.positiveBtResNormal = null ;\r\n\r\n\r\n    this.reSet = function(){\r\n        this.btnTypeFlag        = AlertViewBtnType.E_BTN_CLOSE;\r\n        this._positiveFlag      = false ;\r\n        this._negativeFlag      = false ;\r\n        this._callbackPositive  =  null;\r\n        this._callbackNegative  =  null ;\r\n        this.positive           =  null ;\r\n        this.negative           =   null ;\r\n        this.positive_single    =   null;\r\n        this.btnclose           = null;\r\n        this.positiveName       = \"\" ;\r\n        this.negativeName       = \"\" ;\r\n\r\n     };\r\n\r\n    this.dismiss = function(){\r\n\r\n        if(this.rootNode){\r\n            this.reSet();\r\n            this.rootNode.removeFromParent(true);\r\n            this.rootNode = null ;\r\n        }\r\n\r\n    };\r\n\r\n    this.show = function (tips,btnType, parent, tag) {\r\n        this.dismiss();\r\n        var self = this ;\r\n\r\n        window.loadPrefabs(\"prefabs/alertView\", function (view) {\r\n\r\n            self.rootNode = view ;\r\n            self.updateView(view,tips,btnType, parent);\r\n            if(tag != undefined)\r\n            {\r\n                self.rootNode.tag = tag;\r\n            }\r\n        },parent)\r\n    };\r\n\r\n    this.showOne = function(tips, btnType,parent)\r\n    {\r\n        if (parent)\r\n        {\r\n            parent.removeChildByTag(-100);\r\n        }\r\n        else\r\n        {\r\n            cc.director.getScene().removeChildByTag(-100);\r\n        }\r\n        this.show(tips, btnType,parent, -100);\r\n    }\r\n\r\n    this.updateView = function(node,tips,btnType, parent){\r\n        var self = this ;\r\n        node.on(cc.Node.EventType.TOUCH_START,function (event) {\r\n            event.stopPropagation();\r\n            return ;\r\n        });\r\n\r\n        this.btnTypeFlag =  btnType;\r\n\r\n        if(tips == \"\" || tips === undefined){\r\n            tips = \"未知错误\" ;\r\n        }\r\n\r\n\r\n        var desTxt = cc.find(\"Bg/Content\",node).getComponent(cc.Label);\r\n\r\n        desTxt.string = tips ;\r\n        this.positive_single = cc.find(\"Bg/BtnSureSingle\",node);\r\n        this.negative = cc.find(\"Bg/BtnCancle\",node);\r\n        this.positive = cc.find(\"Bg/BtnSure\",node);\r\n        this.btnclose = cc.find(\"Bg/BtnClose\",node);\r\n        if(this.btnTypeFlag == AlertViewBtnType.E_BTN_CLOSE)\r\n        {\r\n            this.negative.active = false;\r\n            this.positive.active = false;\r\n            this.positive_single.active = true;\r\n            this.btnclose.active = true;\r\n        }\r\n        else\r\n        {\r\n            this.negative.active = true;\r\n            this.positive.active = true;\r\n            this.positive_single.active = false;\r\n            this.btnclose.active = false;\r\n        }\r\n\r\n        if(this.positiveName != \"\" && this.positiveName != undefined)\r\n        {\r\n            if(this.btnTypeFlag == AlertViewBtnType.E_BTN_CLOSE)\r\n            {\r\n                this.setPositiveSingleName(this.positiveName);\r\n            }\r\n            else\r\n            {\r\n                this.setPositiveButtonName(this.positiveName);\r\n            }\r\n        }\r\n\r\n        if(this.negativeName != \"\" && this.negativeName != undefined)\r\n        {\r\n            this.setNegativeButtonName(this.negativeName);\r\n        }\r\n\r\n        this.addButtonListenner();\r\n\r\n\r\n\r\n        // //var positiveText = cc.find(\"Image_10_0\",this.positive);\r\n        //\r\n        // if(this.positiveBtResNormal){\r\n        //     window.loadImg(this.positiveBtResNormal,function(spriteFrame){\r\n        //         // var buttom = positiveText.getComponent(cc.Sprite) ;\r\n        //         // buttom.spriteFrame = spriteFrame;\r\n        //     });\r\n        // }\r\n\r\n\r\n        window.scaleTo(node);\r\n    };\r\n\r\n\r\n    this.addButtonListenner = function () {\r\n        var self = this ;\r\n        if(this.negative.active)\r\n        {\r\n            this.negative.on(cc.Node.EventType.TOUCH_END,function () {\r\n                cc.log(\"AlertView.addButtonListenner,negative\");\r\n                if(self.btnTypeFlag != AlertViewBtnType.E_BTN_CLOSE){\r\n                \t\r\n                    MusicMgr.playEffect(Audio_Common.AUDIO_BTN_CLICK);\r\n                    \r\n                    if(self._callbackNegative){\r\n                        self. _callbackNegative();\r\n                    }\r\n                    self.dismiss();\r\n                }\r\n            });\r\n        }\r\n\r\n        if(this.btnclose.active)\r\n        {\r\n            this.btnclose.on(cc.Node.EventType.TOUCH_END,function () {\r\n                cc.log(\"AlertView.addButtonListenner,btnclose\");\r\n                if(self.btnTypeFlag == AlertViewBtnType.E_BTN_CLOSE){\r\n                \tMusicMgr.playEffect(Audio_Common.AUDIO_BTN_CLICK);\r\n                    if(self._callbackNegative){\r\n                        self. _callbackNegative();\r\n                    }\r\n                    self.dismiss();\r\n                }\r\n            });\r\n        }\r\n\r\n        if(this.positive.active)\r\n        {\r\n            this.positive.on(cc.Node.EventType.TOUCH_END,function () {\r\n                cc.log(\"AlertView.addButtonListenner,positive\");\r\n                if(self.btnTypeFlag != AlertViewBtnType.E_BTN_CLOSE){\r\n                \tMusicMgr.playEffect(Audio_Common.AUDIO_BTN_CLICK);\r\n                    if(self._callbackPositive){\r\n                        self. _callbackPositive();\r\n                    }\r\n                    self.dismiss();\r\n                }\r\n            });\r\n        }\r\n\r\n        if(this.positive_single.active)\r\n        {\r\n\r\n            this.positive_single.on(cc.Node.EventType.TOUCH_END,function () {\r\n                cc.log(\"AlertView.addButtonListenner,positive_single\");\r\n                if(self.btnTypeFlag == AlertViewBtnType.E_BTN_CLOSE){\r\n                \tMusicMgr.playEffect(Audio_Common.AUDIO_BTN_CLICK);\r\n                    if(self._callbackPositive){\r\n                        self._callbackPositive();\r\n                    }\r\n                    self.dismiss();\r\n                }\r\n            });\r\n        }\r\n        else\r\n        {\r\n            this.positive_single.removeFromParent();\r\n            //this.positive_single.getComponent(cc.Button).interactable = false;\r\n        }\r\n\r\n    } ,\r\n\r\n\r\n    this.setPositiveButton = function (callback,name)\r\n    {\r\n        //this._positiveFlag = true;\r\n        this._callbackPositive = callback;\r\n        this.positiveName = name;\r\n    };\r\n\r\n    this.setNegativeButton =  function(callback,name)\r\n    {\r\n        //this._negativeFlag = true;\r\n        this._callbackNegative = callback;\r\n        this.negativeName = name;\r\n    };\r\n\r\n    this.setPositiveButtonName = function (name) {\r\n        var lable = cc.find(\"label\",this.positive);\r\n        lable.getComponent(cc.Label).string = name;\r\n    };\r\n\r\n    this.setPositiveSingleName = function (name) {\r\n        var lable = cc.find(\"label\",this.positive_single);\r\n        lable.getComponent(cc.Label).string = name;\r\n    };\r\n\r\n    this.setNegativeButtonName = function (name) {\r\n        var lable = cc.find(\"label\",this.negative);\r\n        lable.getComponent(cc.Label).string = name;\r\n    };\r\n\r\n    this.removeFromParent = function () {\r\n        this.dismiss();\r\n    }\r\n\r\n};\r\n\r\n\r\nvar AlertView = {\r\n\r\n    create  : function () {\r\n        return new AView();\r\n    }\r\n\r\n} ;\r\n\r\nmodule.exports = AlertView ;\r\n"
  ]
}
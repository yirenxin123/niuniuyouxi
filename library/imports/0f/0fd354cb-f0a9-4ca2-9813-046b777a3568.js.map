{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "MusicMgr",
    "require",
    "Audio_Common",
    "UtilTool",
    "MessageFactory",
    "GamePlayer",
    "GameSystem",
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "BtnAgree",
    "Node",
    "BtnRefuse",
    "ReqMsg",
    "RichText",
    "Time",
    "Label",
    "Head",
    "Sprite",
    "Title",
    "RoomInfoView",
    "Prefab",
    "onLoad",
    "msg",
    "msgType",
    "self",
    "node",
    "on",
    "EventType",
    "TOUCH_END",
    "event",
    "deal",
    "type",
    "data",
    "msgid",
    "id",
    "log",
    "createMessageReq",
    "US_REQ_SET_MSG_READ_CMD_ID",
    "send",
    "setMessageInfo",
    "UpdateWXHeadIcon",
    "url",
    "setMsgSitReq",
    "setMsgBuyProp",
    "setMsgCharge",
    "setMsgJoinClub",
    "setMsgClubOtherMsg",
    "string",
    "getFormatData",
    "time",
    "name",
    "uid",
    "clubid",
    "active",
    "situid",
    "coin",
    "privateid",
    "callbackBtn",
    "CustomEventData",
    "playEffect",
    "AUDIO_BTN_CLICK",
    "btnName",
    "target",
    "getName",
    "sendSitMessage",
    "sendAddClubMessage",
    "result",
    "isallow",
    "JSON",
    "stringify",
    "window",
    "CLUB_REQ_OWNER_CONFIRM_CMD_ID",
    "gamesvcid",
    "tableid",
    "playeruid",
    "US_REQ_OWNER_CONFIRM_CMD_ID"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var MusicMgr = require('MusicMgr');\r\nvar Audio_Common = require('Audio_Common');\r\nvar UtilTool = require('UtilTool');\r\nvar MessageFactory = require('MessageFactory');\r\nvar GamePlayer = require('GamePlayer');\r\nvar GameSystem = require(\"GameSystem\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        BtnAgree     : cc.Node,\r\n        BtnRefuse    : cc.Node,\r\n        ReqMsg       : cc.RichText,\r\n        Time         : cc.Label,\r\n        Head         : cc.Sprite,\r\n        Title        : cc.Label,\r\n        RoomInfoView : cc.Prefab,\r\n    },\r\n    \r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.msg = null;\r\n        this.msgType = 0; // 非俱乐部消息\r\n        var self = this;\r\n        this.node.on(cc.Node.EventType.TOUCH_END, function(event){\r\n            if (this.msgType == 3) {\r\n                if (self.msg.deal == 0) {\r\n                    if ((self.msg.type == 3) || (self.msg.type == 4)) {\r\n                        var data = {\r\n                            type : self.msg.type,\r\n                            msgid: self.msg.id,\r\n                        };\r\n                        cc.log(\"read MsgId=\", data.msgid, \" type=\", data.type);\r\n                        MessageFactory.createMessageReq(US_REQ_SET_MSG_READ_CMD_ID).send(data);\r\n                    }\r\n                } else {\r\n                    cc.log(\"read MsgId=\", data.msgid, \" type=\", data.type, \" deal=\", deal);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                // if(self.msg.type != 1)\r\n                // {\r\n                //     var data = {\r\n                //         type: self.msg.type,\r\n                //         msgid: self.msg.id,\r\n                //     };\r\n                //     MessageFactory.createMessageReq(US_REQ_SET_MSG_READ_CMD_ID).send(data);\r\n                // }\r\n            }\r\n        });\r\n    },\r\n\r\n    setMessageInfo : function (msg, msgType) {\r\n        cc.log(\"SitReqCell.setMessageInfo, msg= \" + msg.msg);\r\n        this.msg     = msg;\r\n        this.msgType = msgType;\r\n        UpdateWXHeadIcon(msg.url, this.Head);\r\n\r\n        if (this.msgType == 3){  //个人消息\r\n            // Id      int    `json:\"id\"`\r\n            // Deal    int    `json:\"deal\"`\r\n            // Type    int    `json:\"type\"`\r\n            // Url     string `json:\"url\"`\r\n            // Name    string `json:\"name\"`\r\n            // Msg     string `json:\"msg\"`\r\n            // SendUid uint32 `json:\"senduid\"`\r\n            // Time    int    `json:\"time\"`\r\n\r\n            if (msg.type == 1) {\r\n                this.setMsgSitReq(msg);\r\n            } else if(msg.type == 3) {\r\n                this.setMsgBuyProp(msg);\r\n            } else if(msg.type == 4) {\r\n                this.setMsgCharge(msg);\r\n            }\r\n        } else if (this.msgType == 2) { //俱乐部消息\r\n            // Id     int    `json:\"id\"`\r\n            // Deal   int    `json:\"deal\"`\r\n            // Url    string `json:\"url\"`\r\n            // Type   int    `json:\"type\"`\r\n            // Name   string `json:\"name\"`\r\n            // Msg    string `json:\"msg\"`\r\n            // ClubId int    `json:\"clubid\"`\r\n            // Time   int    `json:\"time\"`\r\n\r\n            if (msg.type == 1) {\r\n                this.setMsgJoinClub(msg);\r\n            } else {\r\n                this.setMsgClubOtherMsg(msg);\r\n            }\r\n        }\r\n        this.Time.string = UtilTool.getFormatData(msg.time);\r\n    },\r\n\r\n    setMsgJoinClub : function (msg) {\r\n        cc.log(\"setMsgJoinClub msg=\", msg);\r\n\r\n        this.Title.string = \"申请加入\";\r\n        if (msg.deal == 0)\r\n        {\r\n            this.ReqMsg.string = \"<color=#646464>\" + msg.msg.name + \"(\" + msg.msg.uid + \")申请加入\" +\r\n                \"您<color=#0000FF>\" + msg.name + \"</c>(\" + msg.clubid + \")</c>\";\r\n            this.BtnAgree.active = true;\r\n            this.BtnRefuse.active = true;\r\n        } else {\r\n            this.BtnAgree.active = false;\r\n            this.BtnRefuse.active = false;\r\n            if(msg.deal == 1) {\r\n                this.ReqMsg.string = \"<color=#646464>您<color=#FF0000>同意</c>\" + msg.msg.name + \"(\" + msg.msg.uid + \")加入\" +\r\n                    \"<color=#0000FF>\" + msg.name + \"</c>(\" + msg.clubid + \")</c>\";\r\n            } else {\r\n                this.ReqMsg.string = \"<color=#646464>您<color=#FF0000>拒绝</c>\" + msg.msg.name + \"(\" + msg.msg.uid + \")加入\" +\r\n                    \"<color=#0000FF>\" + msg.name + \"</c>(\" + msg.clubid + \")</c>\";\r\n            }\r\n        }\r\n    },\r\n\r\n    setMsgClubOtherMsg : function (msg) {\r\n        switch (msg.type) {\r\n            case 2:\r\n                this.Title.string = \"申请加入\";\r\n                break;\r\n\r\n            case 3:\r\n                this.Title.string = \"创建俱乐部\";\r\n                break;\r\n\r\n            case 4:\r\n                this.Title.string = \"解散俱乐部\";\r\n                break;\r\n\r\n            case 5:\r\n                this.Title.string = \"升级俱乐部\";\r\n                break;\r\n\r\n            case 7:\r\n                this.Title.string = \"修改管理员\";\r\n                break;\r\n\r\n            case 8:\r\n                this.Title.string = \"删除成员\";\r\n                break;\r\n        }\r\n\r\n        this.ReqMsg.string    = \"<color=#646464>\" + msg.msg.msg + \"</c>\";\r\n        this.BtnAgree.active  = false;\r\n        this.BtnRefuse.active = false;\r\n    },\r\n    \r\n    setMsgCharge : function (msg) {\r\n        this.Title.string        = \"充值消息\";\r\n        this.ReqMsg.string       = \"<color=#646464>\" +msg.msg.msg + \"</c>\";\r\n        this.BtnAgree.active     = false;\r\n        this.BtnRefuse.active    = false;\r\n    },\r\n\r\n    setMsgBuyProp : function (msg) {\r\n        this.Title.string        = \"道具消息\";\r\n        this.ReqMsg.string       = \"<color=#646464>\" +msg.msg.msg + \"</c>\";\r\n        this.BtnAgree.active     = false;\r\n        this.BtnRefuse.active    = false;\r\n    },\r\n\r\n    setMsgSitReq : function (msg) {\r\n        cc.log(\"setMsgSitReq msg=\", msg);\r\n        this.Title.string = \"牌局消息\";\r\n        if (msg.deal == 0)\r\n        {\r\n            this.ReqMsg.string = \"<color=#646464>\" + msg.msg.name + \"(\" + msg.msg.situid + \")申请携带<color=#FF0000>\"\r\n                + msg.msg.coin+ \"</c>牛友币进入您<color=#0000FF>\" + msg.msg.privateid + \"</c>(\"+ msg.name + \")牌局</c>\";\r\n            this.BtnAgree.active = true;\r\n            this.BtnRefuse.active = true;\r\n        } else if (msg.deal == 1) {\r\n            this.ReqMsg.string = \"<color=#646464>您<color=#FF0000>同意</c>\"+msg.msg.name+\"(\"+msg.msg.situid+\")申请携带<color=#FF0000>\"+\r\n                msg.msg.coin+ \"</c>牛友币进入您<color=#0000FF>\" + msg.msg.privateid + \"</c>(\"+ msg.name + \")牌局</c>\";\r\n            this.BtnAgree.active = false;\r\n            this.BtnRefuse.active = false;\r\n        } else {\r\n            this.ReqMsg.string = \"<color=#646464>您<color=#FF0000>拒绝</c>\"+msg.msg.name+\"(\"+msg.msg.situid+\")申请携带<color=#FF0000>\"+\r\n                msg.msg.coin+ \"</c>牛友币进入您<color=#0000FF>\" + msg.msg.privateid + \"</c>(\"+ msg.name + \")牌局</c>\";\r\n            this.BtnAgree.active = false;\r\n            this.BtnRefuse.active = false;\r\n        }\r\n    },\r\n\r\n    callbackBtn : function(event,CustomEventData)\r\n    {\r\n    \tMusicMgr.playEffect(Audio_Common.AUDIO_BTN_CLICK);\r\n        cc.log(\"SitReqCell.callbackBtn,CustomEventData = \" + CustomEventData);\r\n        var btnName = event.target.getName();\r\n        cc.log(\"SitReqCell.callbackBtn,btnName = \" + btnName);\r\n        if (btnName == \"BtnAgree\") {\r\n            if(this.msgType == 3) { //个人消息\r\n                if(this.msg.type == 1) {\r\n                    this.sendSitMessage(1); //同意\r\n                    this.msg.deal = 1;\r\n                    this.setMsgSitReq(this.msg);\r\n                }\r\n            } else {\r\n                if(this.msg.type == 1) {\r\n                    this.sendAddClubMessage(1);\r\n                    this.msg.deal = 1;\r\n                    this.setMsgJoinClub(this.msg);\r\n                }\r\n            }\r\n        } else if(btnName == \"BtnRefuse\") {\r\n            if(this.msgType == 3) {\r\n                if(this.msg.type == 1) {\r\n                    this.sendSitMessage(2); //拒绝\r\n                    this.msg.deal = 2;\r\n                    this.setMsgSitReq(this.msg);\r\n                }\r\n            } else {\r\n                if(this.msg.type == 1) {\r\n                    this.sendAddClubMessage(2);\r\n                    this.msg.deal = 2;\r\n                    this.setMsgJoinClub(this.msg);\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    sendAddClubMessage : function (result) {\r\n        cc.log(\"SitReqCell.sendAddClubMessage ClubId=\", this.msg.clubid, \" uid=\", this.msg.msg.uid, \" result=\", result)\r\n        var data = {\r\n            uid     : this.msg.msg.uid,\r\n            isallow : result,   // 1:同意，2:拒绝\r\n        };\r\n        cc.log(\"BaseScene.notifyOwnerConfirmSit.data = \",JSON.stringify(data));\r\n        MessageFactory.createMessageReq(window.CLUB_REQ_OWNER_CONFIRM_CMD_ID).send(data, this.msg.clubid);\r\n    },\r\n\r\n    // SitUid     uint32 `json:\"situid\"`      //申请入座的玩家uid\r\n    // Name       string `json:\"name\"`        //玩家昵称\r\n    // SeatId     int    `json:\"seatid\"`      //申请入座的座位号\r\n    // Coin       int    `json:\"coin\"`        //申请携带金币\r\n    // GameSvcId  uint32 `json:\"gamesvcid\"`   //在哪一个游戏服务器申请\r\n    // TableId    int32  `json:\"tableid\"`     //在哪一个桌子申请\r\n    // PrivateId  int    `json:\"privateid\"`   //6位数私人桌id\r\n    // CreateTime int64  `json:\"createtime\"`  //创建时间\r\n    sendSitMessage : function (result) {\r\n        var msg = this.msg.msg;\r\n        var data = {\r\n            gamesvcid : msg.gamesvcid,\r\n            tableid   : msg.tableid,\r\n            playeruid : msg.situid,\r\n            privateid : msg.privateid,\r\n            result    : result,   // 1:同意，2:拒绝\r\n        };\r\n        cc.log(\"sendSitMessage.SitReqCell data=\", data);\r\n        MessageFactory.createMessageReq(window.US_REQ_OWNER_CONFIRM_CMD_ID).send(data);\r\n    },\r\n});\r\n"
  ]
}
{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "window",
    "Platform_Type",
    "cc",
    "Enum",
    "E_PLATFORM_UNKONW",
    "E_PLATFORM_ANDROID",
    "E_PLATFORM_IPHONE",
    "E_PLATFORM_IPAD",
    "E_PLATFORM_MAC",
    "E_PLATFORM_WINDOWS",
    "E_PLATFORM_WEB",
    "GameCallOC",
    "require",
    "PlatformManager",
    "prototype",
    "getPlatformCode",
    "log",
    "sys",
    "platform",
    "parseInt",
    "getOsType",
    "os",
    "getPlatformType",
    "platformCode",
    "WIN32",
    "WINRT",
    "MACOS",
    "ANDROID",
    "IPHONE",
    "IPAD",
    "MOBILE_BROWSER",
    "DESKTOP_BROWSER",
    "getLanguage",
    "language",
    "getPackageName",
    "packageName",
    "ojb",
    "jsb",
    "reflection",
    "callStaticMethod",
    "getAppVersion",
    "version",
    "getBattery",
    "batteryLevel",
    "navigator",
    "then",
    "battery",
    "level",
    "updateLevelInfo",
    "console",
    "addEventListener",
    "getSignalStrength",
    "generateUUID",
    "uuid",
    "localStorage",
    "getItem",
    "undefined",
    "d",
    "Date",
    "getTime",
    "replace",
    "c",
    "r",
    "Math",
    "random",
    "floor",
    "toString",
    "setItem",
    "getInstance",
    "getUUID",
    "Platform",
    "instance",
    "module",
    "exports"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "/**\r\n * Created by shrimp on 17/2/19.\r\n */\r\n\r\nwindow.Platform_Type = cc.Enum({\r\n    E_PLATFORM_UNKONW  : 0,\r\n    E_PLATFORM_ANDROID : 1,\r\n    E_PLATFORM_IPHONE  : 2,\r\n    E_PLATFORM_IPAD    : 3,\r\n    E_PLATFORM_MAC     : 4,\r\n    E_PLATFORM_WINDOWS : 5,\r\n    E_PLATFORM_WEB     : 6,\r\n});\r\n\r\nvar GameCallOC = require('GameCallOC');\r\n\r\nfunction  PlatformManager()\r\n{\r\n\r\n}\r\n\r\nPlatformManager.prototype.getPlatformCode = function () {\r\n    cc.log(\"PlatformManager.prototype.getPlatformType platform = \" + cc.sys.platform);\r\n    return parseInt(cc.sys.platform);\r\n}\r\n\r\nPlatformManager.prototype.getOsType = function () {\r\n    cc.log(\"PlatformManager.prototype.getPlatformType os = \" + cc.sys);\r\n    return cc.sys.os;\r\n}\r\n\r\nPlatformManager.prototype.getPlatformType = function () {\r\n    this.getOsType();\r\n    var platformCode = this.getPlatformCode();\r\n    let platform = window.Platform_Type.E_PLATFORM_UNKONW;\r\n    switch (platformCode)\r\n    {\r\n        case cc.sys.WIN32:\r\n        case cc.sys.WINRT:\r\n            platform = window.Platform_Type.E_PLATFORM_WINDOWS;\r\n            break;\r\n        case cc.sys.MACOS:\r\n            platform = window.Platform_Type.E_PLATFORM_MAC;\r\n            break;\r\n        case cc.sys.ANDROID:\r\n            platform = window.Platform_Type.E_PLATFORM_ANDROID;\r\n            break;\r\n        case cc.sys.IPHONE:\r\n            platform = window.Platform_Type.E_PLATFORM_IPHONE;\r\n            break;\r\n        case cc.sys.IPAD:\r\n            platform = window.Platform_Type.E_PLATFORM_IPAD;\r\n            break;\r\n        case cc.sys.MOBILE_BROWSER:\r\n        case cc.sys.DESKTOP_BROWSER:\r\n            platform = window.Platform_Type.E_PLATFORM_WEB;\r\n            break;\r\n        default:\r\n            platform = window.Platform_Type.E_PLATFORM_UNKONW;\r\n            break;\r\n    }\r\n    cc.log(\"platform = \" + platform);\r\n    return platform;\r\n}\r\n\r\n\r\nPlatformManager.prototype.getLanguage = function () {\r\n    cc.log(\"PlatformManager.getLanguage, language = \" + cc.sys.language);\r\n\r\n    return cc.sys.language;\r\n}\r\n\r\nPlatformManager.prototype.getPackageName = function () {\r\n    cc.log(\"PlatformManager.getPackageName\");\r\n    var packageName = \"\";\r\n    var ojb = jsb.reflection.callStaticMethod(\"JSCallBackOC\", \"getPackageName\");\r\n    return packageName;\r\n}\r\n\r\nPlatformManager.prototype.getAppVersion = function () {\r\n    var version = 1;\r\n\r\n    cc.log(\"PlatformManager.getAppVersion,version = \" + version);\r\n    return version;\r\n}\r\n\r\nPlatformManager.prototype.getBattery = function () {\r\n\r\n    //cc.log(\"PlatformManager.getBattery,data = \" + JSON.stringify(navigator));\r\n\r\n    let batteryLevel = 0;\r\n\r\n    navigator.getBattery().then(function(battery) {\r\n\r\n        batteryLevel = battery.level;\r\n        function updateLevelInfo(){\r\n            console.log(\"Battery level: \"\r\n                + battery.level * 100 + \"%\");\r\n            batteryLevel = battery.level;\r\n        }\r\n        updateLevelInfo();\r\n\r\n        battery.addEventListener('levelchange', function(){\r\n            updateLevelInfo();\r\n        });\r\n    });\r\n\r\n    cc.log(\"PlatformManager.getBattery, level = \" + batteryLevel);\r\n\r\n    return ;\r\n}\r\n\r\nPlatformManager.prototype.getSignalStrength = function () {\r\n    cc.log(\"PlatformManager.getSignalStrength\");\r\n}\r\n\r\nPlatformManager.prototype.generateUUID = function() {\r\n\r\n    if(this.getPlatformType() == Platform_Type.E_PLATFORM_WEB\r\n    || this.getPlatformType() == Platform_Type.E_PLATFORM_ANDROID)\r\n    {\r\n        //web平台上获取设备id的方法，暂时没有更好的，这个方案下的碰撞率不及1/2^^122,保存在本地数据 易被删除\r\n        var uuid = cc.sys.localStorage.getItem('uuid');\r\n        cc.log(\"PlatformManager.generateUUID111,uuid = \" + uuid);\r\n        if(uuid == 0 || uuid == null || uuid == undefined )\r\n        {\r\n            var d = new Date().getTime();\r\n            var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n                var r = (d + Math.random()*16)%16 | 0;\r\n                d = Math.floor(d/16);\r\n                return (c=='x' ? r : (r&0x3|0x8)).toString(16);\r\n            });\r\n            cc.sys.localStorage.setItem(\"uuid\", uuid);\r\n        }\r\n    }\r\n    else if(this.getPlatformType() == Platform_Type.E_PLATFORM_IPHONE\r\n       || this.getPlatformType() == Platform_Type.E_PLATFORM_IPAD\r\n        || this.getPlatformType() == Platform_Type.E_PLATFORM_MAC)\r\n    {\r\n        return GameCallOC.getInstance().getUUID();\r\n    }\r\n    cc.log(\"PlatformManager.generateUUID,uuid = \" + uuid);\r\n    return uuid;\r\n}\r\n\r\n\r\nvar Platform = (function(){\r\n    var instance ;\r\n\r\n    function getInstance(){\r\n        if( instance === undefined ){\r\n            instance = new PlatformManager();\r\n        }\r\n        return instance;\r\n    };\r\n\r\n    return {\r\n        getInstance : getInstance,\r\n    }\r\n})();\r\n\r\nmodule.exports = Platform;"
  ]
}
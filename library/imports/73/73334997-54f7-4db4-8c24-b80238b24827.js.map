{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "BasePop",
    "require",
    "UtilTool",
    "MessageFactory",
    "LoadingView",
    "ToastView",
    "GamePlayer",
    "MusicMgr",
    "Audio_Common",
    "GameSystem",
    "cc",
    "Class",
    "extends",
    "properties",
    "ClubTitle",
    "Label",
    "ClubName",
    "ClubPersons",
    "ClubHead",
    "Sprite",
    "ClubAddress",
    "ClubOwner",
    "ClubOwnerHead",
    "ClubId",
    "ClubIntroDoc",
    "onLoad",
    "_super",
    "setTextInfo",
    "setHeadUrl",
    "onMessage",
    "event",
    "log",
    "msg",
    "data",
    "cmd",
    "window",
    "CLUB_RESP_JOIN_CLUB_CMD_ID",
    "onJoinClubMsg",
    "code",
    "SocketRetCode",
    "RET_SUCCESS",
    "param",
    "uid",
    "getInstance",
    "isallow",
    "show",
    "createMessageReq",
    "US_REQ_CLUB_LIST_CMD_ID",
    "send",
    "dismiss",
    "message",
    "popView",
    "btn",
    "GlobalEventManager",
    "emitEvent",
    "SocketMessage",
    "tag",
    "MessageType",
    "SCENE_MSG",
    "string",
    "CurClubInfo",
    "name",
    "members",
    "maxmember",
    "address",
    "ownername",
    "clubid",
    "intro",
    "callBackBtn",
    "CustomEventData",
    "BtnName",
    "target",
    "getName",
    "playEffect",
    "AUDIO_BTN_CLICK",
    "headurl",
    "sex",
    "CLUB_REQ_JOIN_CLUB_CMD_ID"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var BasePop = require('BasePop');\r\nvar UtilTool = require('UtilTool');\r\nvar MessageFactory = require('MessageFactory');\r\nvar LoadingView = require('LoadingView');\r\nvar ToastView = require('ToastView');\r\nvar GamePlayer = require('GamePlayer');\r\nvar MusicMgr = require('MusicMgr');\r\nvar Audio_Common = require('Audio_Common');\r\nvar GameSystem = require(\"GameSystem\");\r\n\r\ncc.Class({\r\n    extends: BasePop,\r\n\r\n    properties: {\r\n        ClubTitle   : cc.Label,      //俱乐部Title\r\n        ClubName    : cc.Label,        //俱乐部名称\r\n        ClubPersons : cc.Label,\r\n        ClubHead    : cc.Sprite,\r\n        ClubAddress : cc.Label,\r\n        ClubOwner   : cc.Label,\r\n        ClubOwnerHead : cc.Sprite,\r\n        ClubId      : cc.Label,\r\n        ClubIntroDoc: cc.Label,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this._super();\r\n        this.setTextInfo();\r\n        this.setHeadUrl();\r\n    },\r\n\r\n    /*********************Network***************************/\r\n    onMessage : function (event) {\r\n        cc.log(\"ClubJoinView.onMessage\");\r\n        var msg = event.data;\r\n        var cmd = msg.cmd;\r\n        switch (cmd) {\r\n            case window.CLUB_RESP_JOIN_CLUB_CMD_ID:\r\n                this.onJoinClubMsg(msg);\r\n                break;\r\n\r\n        }\r\n    },\r\n\r\n    onJoinClubMsg : function (msg) {\r\n        if(msg.code == SocketRetCode.RET_SUCCESS) {\r\n            if (msg.param.uid == GamePlayer.getInstance().uid)\r\n            {\r\n                if(msg.param.isallow == 1) {\r\n                    ToastView.show(\"群主同意您加入他的俱乐部\");\r\n                    MessageFactory.createMessageReq(US_REQ_CLUB_LIST_CMD_ID).send();\r\n                } else {\r\n                    ToastView.show(\"群主拒绝您加入他的俱乐部\");\r\n                }\r\n                this.dismiss();\r\n                var message = {\r\n                    popView : \"ClubJoinView\",\r\n                    btn     : \"RespJoin\",\r\n                };\r\n                GlobalEventManager.getInstance().emitEvent(window.SocketMessage,\r\n                    {tag:window.MessageType.SCENE_MSG, data:message});\r\n            }\r\n        }\r\n    },\r\n\r\n    //[{\"clubid\":10000019,\"role\":1,\"owneruid\":10688,\"level\":1, \"name\":\"as\",\r\n    // \"headurl\":\"\",\"address\":\"广西 百色市\",\"intro\":\"\",\"endtime\":1494324197,\"status\":1,\r\n    // \"members\":1, \"maxmember\":10}]\r\n    setTextInfo : function () {\r\n        this.ClubTitle.string    = GamePlayer.getInstance().CurClubInfo.name;\r\n        this.ClubName.string     = GamePlayer.getInstance().CurClubInfo.name;\r\n        this.ClubPersons.string  = GamePlayer.getInstance().CurClubInfo.members + \"/\" +\r\n            GamePlayer.getInstance().CurClubInfo.maxmember;\r\n        this.ClubAddress.string  = GamePlayer.getInstance().CurClubInfo.address;\r\n        this.ClubOwner.string    = GamePlayer.getInstance().CurClubInfo.ownername;\r\n        this.ClubId.string       = GamePlayer.getInstance().CurClubInfo.clubid;\r\n        this.ClubIntroDoc.string = GamePlayer.getInstance().CurClubInfo.intro;\r\n    },\r\n\r\n    setHeadUrl : function () {\r\n        //this.ClubOwnerHead\r\n    },\r\n\r\n    callBackBtn : function (event , CustomEventData) {\r\n        var BtnName = event.target.getName();\r\n        cc.log('ClubJoinView.callBackBtn,BtnName = ' + BtnName);\r\n        MusicMgr.playEffect(Audio_Common.AUDIO_BTN_CLICK);\r\n        if (BtnName == \"BtnClose\") {\r\n            this.dismiss();\r\n        } else if(BtnName == \"BtnJoinClub\") {\r\n            var data = {\r\n                uid     : GamePlayer.getInstance().uid,\r\n                name    : GamePlayer.getInstance().name,\r\n                headurl : GamePlayer.getInstance().headurl,\r\n                sex     : GamePlayer.getInstance().sex,\r\n            };\r\n            MessageFactory.createMessageReq(CLUB_REQ_JOIN_CLUB_CMD_ID).send(GamePlayer.getInstance().CurClubInfo.clubid, data);\r\n        }\r\n    }\r\n});\r\n"
  ]
}
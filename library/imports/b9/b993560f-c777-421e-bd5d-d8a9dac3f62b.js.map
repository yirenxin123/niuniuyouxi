{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "BasePop",
    "require",
    "MessageFactory",
    "GamePlayer",
    "Bullfight_GameScene",
    "LoadingView",
    "MusicMgr",
    "Audio_Common",
    "GameSystem",
    "cc",
    "Class",
    "extends",
    "properties",
    "RuleView",
    "Prefab",
    "OwnerView",
    "OwnerIcon",
    "Sprite",
    "OwnerText",
    "Label",
    "BtnShare",
    "Node",
    "onLoad",
    "_super",
    "self",
    "node",
    "on",
    "EventType",
    "TOUCH_END",
    "event",
    "log",
    "runOut",
    "bind",
    "initBaseData",
    "getInstance",
    "bowner",
    "roomLevel",
    "active",
    "VerStatus",
    "VerStatusType",
    "VERSION_TYPE_AUDIT",
    "callBackCarry",
    "tableRuleInfo",
    "setRuleInfo",
    "ruleInfo",
    "callBackBtn",
    "CustomEventData",
    "playEffect",
    "AUDIO_BTN_CLICK",
    "btnName",
    "target",
    "getName",
    "createMessageReq",
    "window",
    "US_REQ_LEAVE_GAME_CMD_ID",
    "send",
    "show",
    "data",
    "status",
    "seatid",
    "seatId",
    "US_REQ_SIT_DOWN_CMD_ID",
    "onCallBackCarry",
    "instantiate",
    "director",
    "getScene",
    "addChild",
    "setPosition",
    "p",
    "getVisibleSize",
    "width",
    "height",
    "ruleView",
    "message",
    "popView",
    "btn",
    "GlobalEventManager",
    "emitEvent",
    "SocketMessage",
    "tag",
    "MessageType",
    "SCENE_MSG",
    "US_REQ_DISMISS_TABLE_CMD_ID",
    "dismiss",
    "setCallBackCarry",
    "callback",
    "callFunc",
    "runAction",
    "sequence",
    "moveBy"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var BasePop = require(\"BasePop\");\r\nvar MessageFactory = require('MessageFactory');\r\nvar GamePlayer = require('GamePlayer');\r\nvar Bullfight_GameScene = require('Bullfight_GameScene');\r\nvar LoadingView = require('LoadingView');\r\nvar MusicMgr = require('MusicMgr');\r\nvar Audio_Common = require('Audio_Common');\r\nvar GameSystem   = require('GameSystem');\r\n\r\ncc.Class({\r\n    extends: BasePop,\r\n\r\n    properties: {\r\n        RuleView : cc.Prefab,\r\n        OwnerView : cc.Prefab,\r\n        OwnerIcon : cc.Sprite,\r\n        OwnerText : cc.Label,\r\n        BtnShare : cc.Node,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n        this._super();\r\n        var self = this;\r\n        this.node.on(cc.Node.EventType.TOUCH_END, function(event){\r\n            cc.log(\"stop event\");\r\n            self.runOut();\r\n        }.bind(this));\r\n        this.initBaseData();\r\n\r\n        cc.log(\"Bullfigth_Menu.onLoad bowner=\" + GamePlayer.getInstance().bowner);\r\n        if (GamePlayer.getInstance().bowner == 1 || GameSystem.getInstance().roomLevel == 2) {\r\n            this.OwnerIcon.node.active = true;\r\n            this.OwnerText.node.active = true;\r\n        } else {\r\n            this.OwnerIcon.node.active = false;\r\n            this.OwnerText.node.active = false;\r\n        }\r\n        if(GameSystem.getInstance().VerStatus == GameSystem.getInstance().VerStatusType.VERSION_TYPE_AUDIT)\r\n        {\r\n            this.BtnShare.active = false;\r\n            return;\r\n        }\r\n    },\r\n    \r\n    initBaseData : function () {\r\n        this.callBackCarry = null;\r\n        this.tableRuleInfo = \"\";\r\n    },\r\n    \r\n    setRuleInfo : function (ruleInfo) {\r\n        this.tableRuleInfo = ruleInfo;\r\n    },\r\n\r\n    callBackBtn : function(event,CustomEventData)\r\n    {\r\n    \t\r\n    \tMusicMgr.playEffect(Audio_Common.AUDIO_BTN_CLICK);\r\n        \r\n        var btnName = event.target.getName();\r\n        cc.log(\"Bullfight_Menu.callBackBtn,btnName = \" + btnName);\r\n        if(btnName == \"BtnExit\")\r\n        {\r\n            MessageFactory.createMessageReq(window.US_REQ_LEAVE_GAME_CMD_ID).send();\r\n        }\r\n        else if(btnName == \"BtnStandUp\")\r\n        {\r\n            LoadingView.show(\"正在站起...\");\r\n            var data = {\r\n                status : 2,\r\n                seatid : GamePlayer.getInstance().seatId,\r\n            };\r\n            MessageFactory.createMessageReq(window.US_REQ_SIT_DOWN_CMD_ID).send(data);\r\n        }\r\n        else if(btnName == \"BtnSupplement\")\r\n        {\r\n            this.onCallBackCarry();\r\n        }\r\n        else if(btnName == \"BtnOwner\")\r\n        {\r\n            var OwnerView = cc.instantiate(this.OwnerView);\r\n            cc.director.getScene().addChild(OwnerView);\r\n            OwnerView.setPosition(cc.p(cc.director.getVisibleSize().width/2,cc.director.getVisibleSize().height/2));\r\n        }\r\n        else if(btnName == \"BtnRule\")\r\n        {\r\n            var ruleView = cc.instantiate(this.RuleView);\r\n            cc.director.getScene().addChild(ruleView);\r\n            ruleView.setPosition(cc.p(cc.director.getVisibleSize().width/2,cc.director.getVisibleSize().height/2));\r\n\r\n        }\r\n        else if(btnName == \"BtnShare\")\r\n        {\r\n            cc.log(\"Bullfight_Menu : BtnShare\");\r\n            var message = {\r\n                popView : \"Bullfight_Menu\",\r\n                btn     : \"BtnShare\"\r\n            };\r\n            GlobalEventManager.getInstance().emitEvent(window.SocketMessage,\r\n                {tag:window.MessageType.SCENE_MSG, data:message}) ;\r\n        }\r\n        else if(btnName == \"BtnKickGame\")\r\n        {\r\n            MessageFactory.createMessageReq(window.US_REQ_DISMISS_TABLE_CMD_ID).send();\r\n        }\r\n        this.dismiss();\r\n    },\r\n\r\n    setCallBackCarry : function (callback) {\r\n        this.callBackCarry = callback;\r\n    },\r\n\r\n    onCallBackCarry : function () {\r\n\r\n        if(this.callBackCarry)\r\n        {\r\n            this.callBackCarry();\r\n            return;\r\n        }\r\n    },\r\n\r\n    runOut : function () {\r\n        var callFunc = cc.callFunc(this.dismiss, this);\r\n        this.node.runAction(cc.sequence(cc.moveBy(0.2,cc.p(0,697)),callFunc));\r\n    },\r\n});\r\n"
  ]
}
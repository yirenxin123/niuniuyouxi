{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "UtilTool",
    "getNowFormatDate",
    "date",
    "Date",
    "seperator1",
    "seperator2",
    "month",
    "getMonth",
    "strDate",
    "getDate",
    "currentdate",
    "getFullYear",
    "getHours",
    "getMinutes",
    "getSeconds",
    "temp",
    "cc",
    "log",
    "getFormatData",
    "time",
    "newDate",
    "setTime",
    "getFormatDataDetail",
    "getTimeData",
    "Array",
    "join",
    "slice",
    "captureScreen",
    "picName",
    "canvas",
    "func",
    "sys",
    "isNative",
    "dirpath",
    "jsb",
    "fileUtils",
    "getWritablePath",
    "isDirectoryExist",
    "createDirectory",
    "name",
    "valueOf",
    "filepath",
    "size",
    "winSize",
    "rt",
    "RenderTexture",
    "create",
    "width",
    "height",
    "begin",
    "director",
    "getScene",
    "_sgNode",
    "visit",
    "end",
    "saveToFile",
    "IMAGE_FORMAT_PNG",
    "dealImage",
    "path",
    "obj",
    "callback",
    "img",
    "Image",
    "src",
    "onload",
    "that",
    "w",
    "h",
    "scale",
    "quality",
    "document",
    "createElement",
    "ctx",
    "getContext",
    "anw",
    "createAttribute",
    "nodeValue",
    "anh",
    "setAttributeNode",
    "drawImage",
    "base64",
    "toDataURL",
    "getTime",
    "hour",
    "parseInt",
    "min",
    "second",
    "getHourTime",
    "parseFloat",
    "getClubLevelName",
    "level",
    "module",
    "exports"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "/**\r\n * Created by shrimp on 17/2/23.\r\n */\r\n\r\nvar UtilTool = {\r\n    //获取系统时间\r\n    getNowFormatDate : function () {\r\n        var date = new Date();\r\n        var seperator1 = \"-\";\r\n        var seperator2 = \":\";\r\n        var month = date.getMonth() + 1;\r\n        var strDate = date.getDate();\r\n        if (month >= 1 && month <= 9) {\r\n            month = \"0\" + month;\r\n        }\r\n        if (strDate >= 0 && strDate <= 9) {\r\n            strDate = \"0\" + strDate;\r\n        }\r\n        var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate\r\n            + \" \" + date.getHours() + seperator2 + date.getMinutes()\r\n            + seperator2 + date.getSeconds();\r\n\r\n        var temp = date.getHours() + seperator2 + date.getMinutes()\r\n            + seperator2 + date.getSeconds()\r\n\r\n        cc.log(\"UtilTool.getNowFormatDate,date = \" + temp + \" \" + currentdate);\r\n        return currentdate;\r\n    },\r\n\r\n    getFormatData : function (time) {\r\n        var newDate = new Date();\r\n        newDate.setTime(time * 1000)\r\n        return newDate.getFullYear() + \"-\" + (newDate.getMonth() + 1) + \"-\" + newDate.getDate();\r\n    },\r\n\r\n    getFormatDataDetail : function (time) {\r\n        var newDate = new Date();\r\n        newDate.setTime(time * 1000)\r\n        return newDate.getFullYear() + \"/\" + (newDate.getMonth() + 1) + \"/\" + newDate.getDate() + \"  \"\r\n            + this.getTimeData(newDate.getHours()) + \":\" + this.getTimeData(newDate.getMinutes())\r\n            + \":\" + this.getTimeData(newDate.getSeconds());\r\n    },\r\n\r\n    //保留两位有效数字\r\n    getTimeData : function (time) {\r\n        return (Array(2).join(0)+time).slice(-2);\r\n    },\r\n\r\n    captureScreen :function(picName,canvas,func) {\r\n        cc.log(\"UtilTool.screenShot\");\r\n        if (!cc.sys.isNative) return;\r\n        let dirpath = jsb.fileUtils.getWritablePath() + 'ScreenShoot/';\r\n        if( !jsb.fileUtils.isDirectoryExist(dirpath)){\r\n            jsb.fileUtils.createDirectory(dirpath);\r\n        }\r\n        let name = 'ScreenShoot-' + (new Date()).valueOf() + '.png';\r\n        let filepath = dirpath + picName;\r\n        let size = cc.winSize;\r\n        let rt = cc.RenderTexture.create(size.width, size.height);\r\n        //cc.director.getScene()._sgNode.addChild(rt);\r\n        //rt.setVisible(false);\r\n        rt.begin();\r\n        cc.director.getScene()._sgNode.visit();\r\n        rt.end();\r\n\r\n        rt.saveToFile('ScreenShoot/' + picName, cc.IMAGE_FORMAT_PNG, true, function() {\r\n            cc.log('save succ');\r\n            //rt.removeFromParent();\r\n            if (func) {\r\n                func(filepath);\r\n            }\r\n        });\r\n        cc.log(\"filepath = \" + filepath);\r\n    },\r\n\r\n    /**\r\n    * 图片压缩，默认同比例压缩\r\n    * @param {Object} path\r\n    *   pc端传入的路径可以为相对路径，但是在移动端上必须传入的路径是照相图片储存的绝对路径\r\n    * @param {Object} obj\r\n    *   obj 对象 有 width， height， quality(0-1)\r\n    * @param {Object} callback\r\n    *   回调函数有一个参数，base64的字符串数据\r\n    */\r\n     dealImage : function(path, obj, callback){\r\n        var img = new Image();\r\n        img.src = path;\r\n        img.onload = function(){\r\n            var that = this;\r\n            // 默认按比例压缩\r\n            var w = that.width,\r\n            h = that.height,\r\n            scale = w / h;\r\n            w = obj.width || w;\r\n            h = obj.height || (w / scale);\r\n            var quality = 0.7;  // 默认图片质量为0.7\r\n            //生成canvas\r\n            var canvas = document.createElement('canvas');\r\n            var ctx = canvas.getContext('2d');\r\n            // 创建属性节点\r\n            var anw = document.createAttribute(\"width\");\r\n            anw.nodeValue = w;\r\n            var anh = document.createAttribute(\"height\");\r\n            anh.nodeValue = h;\r\n            canvas.setAttributeNode(anw);\r\n            canvas.setAttributeNode(anh);\r\n            ctx.drawImage(that, 0, 0, w, h);\r\n            // 图像质量\r\n            if(obj.quality && obj.quality <= 1 && obj.quality > 0){\r\n                quality = obj.quality;\r\n            }\r\n            cc.log(\"quality = \",quality);\r\n            // quality值越小，所绘制出的图像越模糊\r\n            var base64 = canvas.toDataURL('image/png', quality );\r\n            // 回调函数返回base64的值\r\n            callback(base64);\r\n        }\r\n\r\n        //img.saveToFile(\"a.png\",true);\r\n    },\r\n\r\n    getTime : function (time) {\r\n        var hour = parseInt(time/60/60);\r\n        var min = parseInt((time - 3600*hour)/60);\r\n        var second = time - 3600*hour - 60*min;\r\n\r\n        return this.getTimeData(hour) + \":\" + this.getTimeData(min) + \":\" + this.getTimeData(second);\r\n    },\r\n\r\n    getHourTime: function (time) {\r\n         if(time < 1800)\r\n         {\r\n             var time = parseFloat(time/60);\r\n             return time + \"min\";\r\n         }\r\n        var hour = parseFloat(time/60/60);\r\n        return hour + \"h\";\r\n    },\r\n    getClubLevelName : function (level) {\r\n        switch (level) {\r\n            case 1:\r\n                return \"一星俱乐部\";\r\n            case 2:\r\n                return \"二星俱乐部\";\r\n            case 3:\r\n                return \"三星俱乐部\";\r\n            case 4:\r\n                return \"四星俱乐部\";\r\n            case 5:\r\n                return \"五星俱乐部\";\r\n            case 6:\r\n                return \"六星俱乐部\";\r\n            case 7:\r\n                return \"七星俱乐部\";\r\n            case 8:\r\n                return \"八星俱乐部\";\r\n            case 9:\r\n                return \"九星俱乐部\";\r\n            case 10:\r\n                return \"十星俱乐部\";\r\n        }\r\n    },\r\n};\r\n\r\nmodule.exports = UtilTool;"
  ]
}
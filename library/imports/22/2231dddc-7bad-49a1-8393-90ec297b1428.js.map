{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "SocketManager",
    "require",
    "MessageFactory",
    "GamePlayer",
    "GloudVoice",
    "prototype",
    "onStartRecord",
    "progress",
    "cc",
    "log",
    "onStopRecording",
    "OnUploadFile",
    "code",
    "filePath",
    "fileID",
    "voiceData",
    "data",
    "touid",
    "getInstance",
    "uid",
    "kind",
    "ChatType",
    "E_CHAT_VOICE_KIND",
    "type",
    "text",
    "BASE64",
    "encoder",
    "JSON",
    "stringify",
    "createMessageReq",
    "US_REQ_GAME_CHAT_CMD_ID",
    "send",
    "OnDownloadFile",
    "message",
    "popView",
    "btn",
    "GlobalEventManager",
    "emitEvent",
    "window",
    "SocketMessage",
    "tag",
    "MessageType",
    "SCENE_MSG",
    "OnPlayRecordedFile",
    "GVoiceJsb",
    "instance",
    "undefined",
    "module",
    "exports"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "/**\r\n * Created by shrimp on 17/4/26.\r\n */\r\n\r\nvar SocketManager = require('SocketManager');\r\nvar MessageFactory = require('MessageFactory');\r\nvar GamePlayer = require('GamePlayer');\r\n\r\nfunction  GloudVoice()\r\n{\r\n\r\n}\r\n\r\nGloudVoice.prototype.onStartRecord = function (progress) {\r\n    cc.log(\"GloudVoice.prototype.onStartRecord,progress = \" + progress);\r\n    //显示开始录音\r\n    //SocketManager.getInstance().startSocket();\r\n}\r\n\r\nGloudVoice.prototype.onStopRecording = function (progress) {\r\n    cc.log(\"GloudVoice.prototype.onStopRecording,progress = \" + progress);\r\n    //停止录音\r\n    //SocketManager.getInstance().startSocket();\r\n\r\n}\r\n\r\nGloudVoice.prototype.OnUploadFile = function (code, filePath, fileID) {\r\n    cc.log(\"GloudVoice.prototype.OnUploadFile,code = \" + code);\r\n    cc.log(\"GloudVoice.prototype.OnUploadFile,filePath = \" + filePath);\r\n    cc.log(\"GloudVoice.prototype.OnUploadFile,fileID = \" + fileID);\r\n    if (code == 11) {\r\n        //上传服务器转发\r\n\r\n\r\n        //var filePath = filePath + \"@\" + 1.0;\r\n        var voiceData = {\r\n            filePath : filePath,\r\n            fileID : fileID,\r\n        };\r\n        //Net.sendAudio(Table.getInstance().room_id, fileId, filePath);\r\n        var data = {\r\n            touid : GamePlayer.getInstance().uid,\r\n            kind : ChatType.E_CHAT_VOICE_KIND,\r\n            type : 0,\r\n            text : BASE64.encoder(JSON.stringify(voiceData)),\r\n        };\r\n        MessageFactory.createMessageReq(US_REQ_GAME_CHAT_CMD_ID).send(data);\r\n    }\r\n\r\n    //显示上传通知\r\n}\r\n\r\nGloudVoice.prototype.OnDownloadFile = function (code, filePath, fileID) {\r\n    cc.log(\"GloudVoice.prototype.OnDownloadFile,code = \" + code);\r\n    cc.log(\"GloudVoice.prototype.OnDownloadFile,filePath = \" + filePath);\r\n    cc.log(\"GloudVoice.prototype.OnDownloadFile,fileID = \" + fileID);\r\n    if (code == 13 || code == 11) {\r\n\r\n    }else{\r\n        //取消播放;\r\n        //取消声音播放界面\r\n        var message = {\r\n            popView : \"GloudVoice\",\r\n            btn : \"OnPlayRecordedFile\"\r\n        };\r\n        GlobalEventManager.getInstance().emitEvent(window.SocketMessage,\r\n            {tag:window.MessageType.SCENE_MSG,data:message}) ;\r\n    }\r\n\r\n}\r\n\r\nGloudVoice.prototype.OnPlayRecordedFile = function (code, filePath) {\r\n    cc.log(\"GloudVoice.prototype.OnPlayRecordedFile,code = \" + code);\r\n    cc.log(\"GloudVoice.prototype.OnPlayRecordedFile,filePath = \" + filePath);\r\n    if (code == 18) {\r\n        //取消声音播放界面\r\n        var message = {\r\n            popView : \"GloudVoice\",\r\n            btn : \"OnPlayRecordedFile\"\r\n        };\r\n        GlobalEventManager.getInstance().emitEvent(window.SocketMessage,\r\n            {tag:window.MessageType.SCENE_MSG,data:message}) ;\r\n    }\r\n    else{\r\n        //取消声音播放界面\r\n        var message = {\r\n            popView : \"GloudVoice\",\r\n            btn : \"OnPlayRecordedFile\"\r\n        };\r\n        GlobalEventManager.getInstance().emitEvent(window.SocketMessage,\r\n            {tag:window.MessageType.SCENE_MSG,data:message}) ;\r\n    }\r\n\r\n\r\n}\r\n\r\nvar GVoiceJsb = (function(){\r\n    var instance ;\r\n\r\n\r\n\r\n    function getInstance(){\r\n        if( instance === undefined ){\r\n            instance = new GloudVoice();\r\n        }\r\n        return instance;\r\n    };\r\n\r\n    return {\r\n        getInstance : getInstance,\r\n    }\r\n})();\r\n\r\nmodule.exports = GVoiceJsb;"
  ]
}
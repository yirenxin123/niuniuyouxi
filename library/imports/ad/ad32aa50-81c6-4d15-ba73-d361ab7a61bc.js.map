{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "BaseScene",
    "require",
    "HttpManager",
    "SocketManager",
    "GameSystem",
    "GamePlayer",
    "UtilTool",
    "AlertView",
    "ToastView",
    "LoadingView",
    "Platform",
    "WeChatApi",
    "MusicMgr",
    "Audio_Common",
    "GameCallOC",
    "GetQueryString",
    "name",
    "reg",
    "RegExp",
    "r",
    "window",
    "location",
    "search",
    "substr",
    "match",
    "unescape",
    "cc",
    "Class",
    "extends",
    "properties",
    "LabelVersion",
    "Label",
    "GameNotice",
    "LogoSprite",
    "Sprite",
    "weChatButton",
    "Button",
    "localButton",
    "HotUpdateTips",
    "HotUpdateProgress",
    "ProgressBar",
    "_StoragePath",
    "_ManifestUrl",
    "_failCount",
    "_maxFailCount",
    "onLoad",
    "_super",
    "log",
    "getInstance",
    "version",
    "getAppVersionCode",
    "disconnect",
    "onGameBack",
    "bLogin",
    "sendGetRouter",
    "game",
    "addPersistRootNode",
    "node",
    "webDeviceID",
    "getLocalInfoByWebUrl",
    "TestAccount",
    "gameNotice",
    "getNowFormatDate",
    "initAudio",
    "loadingRes",
    "string",
    "getAppVersion",
    "onCheckStatus",
    "bClientHotUpdate",
    "sys",
    "isNative",
    "VerStatus",
    "VerStatusType",
    "VERSION_TYPE_AUDIT",
    "gotoGame",
    "active",
    "updateLoginBtn",
    "onHotUpdate",
    "jsb",
    "fileUtils",
    "getWritablePath",
    "versionCompareHandle",
    "versionA",
    "versionB",
    "vA",
    "split",
    "vB",
    "i",
    "length",
    "a",
    "parseInt",
    "b",
    "_am",
    "AssetsManager",
    "retain",
    "getLocalManifest",
    "isLoaded",
    "sendLog",
    "self",
    "setVerifyCallback",
    "path",
    "asset",
    "compressed",
    "expectedMd5",
    "md5",
    "relativePath",
    "size",
    "os",
    "OS_ANDROID",
    "setMaxConcurrentTask",
    "progress",
    "resVersion",
    "getVersion",
    "packageUrl",
    "getPackageUrl",
    "_updateListener",
    "EventListenerAssetsManager",
    "event",
    "getEventCode",
    "EventAssetsManager",
    "ERROR_NO_LOCAL_MANIFEST",
    "ERROR_DOWNLOAD_MANIFEST",
    "ERROR_PARSE_MANIFEST",
    "ALREADY_UP_TO_DATE",
    "NEW_VERSION_FOUND",
    "UPDATE_PROGRESSION",
    "getPercent",
    "num",
    "parseFloat",
    "toFixed",
    "msg",
    "getMessage",
    "UPDATE_FINISHED",
    "alert",
    "create",
    "setPositiveButton",
    "exitApp",
    "show",
    "AlertViewBtnType",
    "E_BTN_CLOSE",
    "UPDATE_FAILED",
    "downloadFailedAssets",
    "ERROR_UPDATING",
    "getAssetId",
    "ERROR_DECOMPRESS",
    "eventManager",
    "addListener",
    "update",
    "text",
    "loader",
    "loadResDir",
    "callbackBtnLogin",
    "CustomEventData",
    "playEffect",
    "AUDIO_BTN_CLICK",
    "CustomLoginType",
    "Number",
    "sendWeChatLogin",
    "startSocket",
    "onHttpResponse",
    "undefined",
    "error",
    "isSucceed",
    "tag",
    "data",
    "HttpTag",
    "HTTP_TAG_GET_ROUTER",
    "code",
    "logintype",
    "status",
    "webSocketUrl",
    "url",
    "backWebSocketUrl",
    "backurl",
    "setNegativeButton",
    "E_BTN_CANCLE",
    "onMessage",
    "cmd",
    "US_RESP_LOGIN_CMD_ID",
    "onLoginMsg",
    "US_NOTIFY_IN_GAME_CMD_ID",
    "gamesvcid",
    "tableid",
    "roomLevel",
    "gamelevel",
    "bReloadInGame",
    "JSON",
    "stringify",
    "dismiss",
    "SocketRetCode",
    "RET_SUCCESS",
    "gotoHall",
    "alertExit",
    "showOne",
    "desc",
    "getDeviceId",
    "generateUUID",
    "pid",
    "productid",
    "ver",
    "sendCommonRequest",
    "routerUrl",
    "director",
    "loadScene",
    "popUpNotice",
    "SetAppInfo",
    "uid",
    "deviceid",
    "toString",
    "getLocalPos",
    "$",
    "getScript",
    "remote_ip_info",
    "country",
    "province",
    "city",
    "onDestroy",
    "removeListener",
    "ENABLE_GC_FOR_NATIVE_OBJECTS",
    "release"
  ],
  "mappings": ";;AAAA;;;;;;;;;;;;;;;;;;;;;AAqBA,IAAIA,YAAYC,QAAQ,WAAR,CAAhB;AACA,IAAIC,cAAcD,QAAQ,aAAR,CAAlB;AACA,IAAIE,gBAAgBF,QAAQ,eAAR,CAApB;AACA,IAAIG,aAAaH,QAAQ,YAAR,CAAjB;AACA,IAAII,aAAaJ,QAAQ,YAAR,CAAjB;AACA,IAAIK,WAAWL,QAAQ,UAAR,CAAf;AACA,IAAIM,YAAaN,QAAQ,WAAR,CAAjB;AACA,IAAIO,YAAYP,QAAQ,WAAR,CAAhB;AACA,IAAIQ,cAAcR,QAAQ,aAAR,CAAlB;AACA,IAAIS,WAAWT,QAAQ,UAAR,CAAf;AACA,IAAIU,YAAYV,QAAQ,WAAR,CAAhB;AACA,IAAIW,WAAWX,QAAQ,UAAR,CAAf;AACA,IAAIY,eAAeZ,QAAQ,cAAR,CAAnB;AACA,IAAIa,aAAab,QAAQ,YAAR,CAAjB;;AAGA,SAASc,cAAT,CAAwBC,IAAxB,EACA;AACI,QAAIC,MAAM,IAAIC,MAAJ,CAAW,UAASF,IAAT,GAAe,eAA1B,CAAV;AACA,QAAIG,IAAIC,OAAOC,QAAP,CAAgBC,MAAhB,CAAuBC,MAAvB,CAA8B,CAA9B,EAAiCC,KAAjC,CAAuCP,GAAvC,CAAR;AACA,QAAGE,KAAG,IAAN,EAAW,OAAQM,SAASN,EAAE,CAAF,CAAT,CAAR,CAAwB,OAAO,IAAP;AACtC;;AAEDO,GAAGC,KAAH,CAAS;AACLC,aAAS5B,SADJ;;AAGL6B,gBAAY;AACRC,sBAAmBJ,GAAGK,KADd;AAERC,oBAAmBN,GAAGK,KAFd;AAGRE,oBAAmBP,GAAGQ,MAHd;AAIRC,sBAAmBT,GAAGU,MAJd;AAKRC,qBAAmBX,GAAGU,MALd;AAMRE,uBAAmBZ,GAAGK,KANd;AAORQ,2BAAmBb,GAAGc,WAPd;AAQRC,sBAAmB,EARX;AASRC,sBAAmB,sBATX;AAURC,oBAAmB,CAVX;AAWRC,uBAAmB,CAXX,EAHP;;AAiBL;AACAC,YAAQ,kBAAY;AAChB,aAAKC,MAAL;AACApB,WAAGqB,GAAH,CAAO,oCAAoC3C,WAAW4C,WAAX,GAAyBC,OAApE;AACA7C,mBAAW4C,WAAX,GAAyBC,OAAzB,GAAmCnC,WAAWkC,WAAX,GAAyBE,iBAAzB,EAAnC;AACAxB,WAAGqB,GAAH,CAAO,uCAAuC3C,WAAW4C,WAAX,GAAyBC,OAAvE;;AAEA9C,sBAAc6C,WAAd,GAA4BG,UAA5B;AACA,aAAKC,UAAL,GAAkB,IAAlB;AACAhD,mBAAW4C,WAAX,GAAyBK,MAAzB,GAAkC,KAAlC;;AAEA,aAAKC,aAAL;AACA5B,WAAG6B,IAAH,CAAQC,kBAAR,CAA2B,KAAKxB,UAAL,CAAgByB,IAA3C;AACA,aAAKC,WAAL,GAAmB,KAAKC,oBAAL,EAAnB;AACAvC,eAAOwC,WAAP,GAAsB,KAAKF,WAA3B;AACAtD,mBAAW4C,WAAX,GAAyBa,UAAzB,GAAsC,IAAtC;AACAvD,iBAASwD,gBAAT;AACAlD,iBAASmD,SAAT;AACA,aAAKC,UAAL;AACA,aAAKrB,UAAL,GAAkB,CAAlB;AACA,aAAKb,YAAL,CAAkBmC,MAAlB,GAA2B,aAAanD,WAAWkC,WAAX,GAAyBkB,aAAzB,EAAxC;AACH,KAtCI;;AAwCLC,mBAAe,yBAAY;AACvB,YAAI/D,WAAW4C,WAAX,GAAyBoB,gBAAzB,IAA6C,CAAC1C,GAAG2C,GAAH,CAAOC,QAArD,IACDlE,WAAW4C,WAAX,GAAyBuB,SAAzB,IAAsCnE,WAAW4C,WAAX,GAAyBwB,aAAzB,CAAuCC,kBADhF,EACoG;AAChG/C,eAAGqB,GAAH,CAAO,iCAAP,EAA0C3C,WAAW4C,WAAX,GAAyBoB,gBAAnE;AACA,iBAAKM,QAAL;AACH,SAJD,MAIO;AACH;AACA,iBAAKA,QAAL;AACH;AACJ,KAjDI;;AAmDLA,cAAU,oBAAY;AAClBtE,mBAAW4C,WAAX,GAAyBoB,gBAAzB,GAA4C,IAA5C;AACA,aAAK7B,iBAAL,CAAuBkB,IAAvB,CAA4BkB,MAA5B,GAAqC,KAArC;AACA,aAAKC,cAAL;AACA;AACH,KAxDI;;AA0DLC,iBAAa,uBAAY;AACrB,YAAI,CAACnD,GAAG2C,GAAH,CAAOC,QAAZ,EAAsB;AAClB,iBAAKI,QAAL;AACA;AACH;;AAED,aAAKnC,iBAAL,CAAuBkB,IAAvB,CAA4BkB,MAA5B,GAAqC,IAArC;AACA,aAAKlC,YAAL,GAAqB,CAACqC,IAAIC,SAAJ,GAAgBD,IAAIC,SAAJ,CAAcC,eAAd,EAAhB,GAAkD,GAAnD,IAA0D,MAA/E;AACAtD,WAAGqB,GAAH,CAAO,iCAAP,EAA2C,KAAKN,YAAhD;;AAEA;AACA;AACA;AACA;AACA,YAAIwC,uBAAwB,SAAxBA,oBAAwB,CAAUC,QAAV,EAAoBC,QAApB,EAA8B;AACtDzD,eAAGqB,GAAH,CAAO,4CAA4CmC,QAAnD,EAA6D,iBAAiBC,QAA9E;AACA,gBAAIC,KAAKF,SAASG,KAAT,CAAe,GAAf,CAAT;AACA,gBAAIC,KAAKH,SAASE,KAAT,CAAe,GAAf,CAAT;AACA,iBAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIH,GAAGI,MAAvB,EAA+B,EAAED,CAAjC,EAAoC;AAChC,oBAAIE,IAAIC,SAASN,GAAGG,CAAH,CAAT,CAAR;AACA,oBAAII,IAAID,SAASJ,GAAGC,CAAH,CAAT,CAAR;AACA,oBAAIE,KAAKE,CAAT,EAAY;AACR;AACH,iBAFD,MAEO;AACH,2BAAOF,IAAIE,CAAX;AACH;AACJ;AACD,gBAAIL,GAAGE,MAAH,GAAYJ,GAAGI,MAAnB,EAA2B;AACvB,uBAAO,CAAC,CAAR;AACH,aAFD,MAEO;AACH,uBAAO,CAAP;AACH;AACJ,SAlBD;;AAoBA,aAAKI,GAAL,GAAW,IAAId,IAAIe,aAAR,CAAsB,KAAKnD,YAA3B,EAAyC,KAAKD,YAA9C,EAA4DwC,oBAA5D,CAAX;AACA,aAAKW,GAAL,CAASE,MAAT;AACA,YAAI,CAAC,KAAKF,GAAL,CAASG,gBAAT,GAA4BC,QAA5B,EAAL,EAA6C;AACzC,iBAAKC,OAAL,CAAa,UAAb;AACAvE,eAAGqB,GAAH,CAAO,iBAAP;AACA,iBAAK2B,QAAL;AACA;AACH;;AAED,YAAIwB,OAAO,IAAX;AACA,aAAKN,GAAL,CAASO,iBAAT,CAA2B,UAAUC,IAAV,EAAgBC,KAAhB,EAAuB;AAC9C,gBAAIC,aAAeD,MAAMC,UAAzB;AACA,gBAAIC,cAAeF,MAAMG,GAAzB;AACA,gBAAIC,eAAeJ,MAAMD,IAAzB;AACA,gBAAIM,OAAeL,MAAMK,IAAzB;AACA;AACA,mBAAO,IAAP;AACH,SAPD;;AASA,YAAIhF,GAAG2C,GAAH,CAAOsC,EAAP,KAAcjF,GAAG2C,GAAH,CAAOuC,UAAzB,EAAqC;AACjC,iBAAKhB,GAAL,CAASiB,oBAAT,CAA8B,CAA9B;AACH;;AAED,aAAKtE,iBAAL,CAAuBuE,QAAvB,GAAkC,CAAlC;;AAEA,YAAIC,aAAa,KAAKnB,GAAL,CAASG,gBAAT,GAA4BiB,UAA5B,EAAjB;AACA,YAAIC,aAAa,KAAKrB,GAAL,CAASG,gBAAT,GAA4BmB,aAA5B,EAAjB;AACA,aAAKjB,OAAL,CAAa,YAAYc,UAAZ,GAAyB,OAAzB,GAAmCE,UAAhD;;AAGA,aAAKE,eAAL,GAAuB,IAAIrC,IAAIsC,0BAAR,CAAmC,KAAKxB,GAAxC,EAA6C,UAAUyB,KAAV,EAAiB;AACjF3F,eAAGqB,GAAH,CAAO,6BAA6BsE,MAAMC,YAAN,EAApC;;AAEA,oBAAQD,MAAMC,YAAN,EAAR;AACI,qBAAKxC,IAAIyC,kBAAJ,CAAuBC,uBAA5B;AACI9F,uBAAGqB,GAAH,CAAO,0BAAP;AACAmD,yBAAKD,OAAL,CAAa,2BAAb;AACAC,yBAAKxB,QAAL;AACA;;AAEJ,qBAAKI,IAAIyC,kBAAJ,CAAuBE,uBAA5B;AACI/F,uBAAGqB,GAAH,CAAO,0BAAP;AACAmD,yBAAKD,OAAL,CAAa,0BAAb;AACAC,yBAAKxB,QAAL;AACA;;AAEJ,qBAAKI,IAAIyC,kBAAJ,CAAuBG,oBAA5B;AACIhG,uBAAGqB,GAAH,CAAO,uBAAP;AACAmD,yBAAKD,OAAL,CAAa,0BAAb;AACAC,yBAAKxB,QAAL;AACA;;AAEJ,qBAAKI,IAAIyC,kBAAJ,CAAuBI,kBAA5B;AACIjG,uBAAGqB,GAAH,CAAO,qBAAP;AACAmD,yBAAKD,OAAL,CAAa,aAAb;AACAC,yBAAKxB,QAAL;AACA;;AAEJ,qBAAKI,IAAIyC,kBAAJ,CAAuBK,iBAA5B;AACIlG,uBAAGqB,GAAH,CAAO,oBAAP;AACAmD,yBAAKD,OAAL,CAAa,WAAb;AACAC,yBAAK3D,iBAAL,CAAuBuE,QAAvB,GAAkC,CAAlC;AACA;;AAEJ,qBAAKhC,IAAIyC,kBAAJ,CAAuBM,kBAA5B;AACInG,uBAAGqB,GAAH,CAAO,gBAAgBsE,MAAMS,UAAN,EAAvB;AACA,wBAAIC,MAAMC,WAAWtC,SAAS2B,MAAMS,UAAN,EAAT,IAA6B,KAAxC,CAAV;AACApG,uBAAGqB,GAAH,CAAO,SAASgF,GAAhB;AACA7B,yBAAK5D,aAAL,CAAmB2B,MAAnB,GAA4B,UAAUoD,MAAMS,UAAN,GAAmBG,OAAnB,CAA2B,CAA3B,CAAV,GAA0C,GAAtE;AACA/B,yBAAK3D,iBAAL,CAAuBuE,QAAvB,GAAkCiB,GAAlC;AACArG,uBAAGqB,GAAH,CAAO,WAAP,EAAoBmD,KAAK3D,iBAAL,CAAuBuE,QAA3C;;AAEA,wBAAIoB,MAAMb,MAAMc,UAAN,EAAV;AACA,wBAAID,GAAJ,EAAS;AACLxG,2BAAGqB,GAAH,CAAO,QAAP,EAAiBmF,GAAjB;AACAhC,6BAAKD,OAAL,CAAa,WAAWiC,GAAxB;AACH;AACD;;AAEJ,qBAAKpD,IAAIyC,kBAAJ,CAAuBa,eAA5B;AACA;AACI1G,2BAAGqB,GAAH,CAAO,kBAAP;AACAmD,6BAAKD,OAAL,CAAa,UAAb;;AAEA,4BAAGnF,WAAWkC,WAAX,CAAuBE,iBAAvB,KAA6C,IAAhD,EACA;AACI,gCAAImF,QAAQ9H,UAAU+H,MAAV,EAAZ;AACAD,kCAAME,iBAAN,CAAwB,YAAY;AAChCzH,2CAAWkC,WAAX,GAAyBwF,OAAzB;AACH,6BAFD,EAEG,IAFH;AAGAH,kCAAMI,IAAN,CAAW,cAAX,EAA0BC,iBAAiBC,WAA3C;AACA;AACH;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAzC,6BAAKxB,QAAL;AACA;AACH;AACG;;AAEJ,qBAAKI,IAAIyC,kBAAJ,CAAuBqB,aAA5B;AACIlH,uBAAGqB,GAAH,CAAO,oBAAoBsE,MAAMc,UAAN,EAA3B;AACAjC,yBAAKD,OAAL,CAAa,QAAQoB,MAAMc,UAAN,EAAR,GAA6B,cAA7B,GAA8C,KAAKxF,UAAhE;AACAuD,yBAAKvD,UAAL;AACA,wBAAIuD,KAAKvD,UAAL,GAAkBuD,KAAKtD,aAA3B,EACA;AACIsD,6BAAKD,OAAL,CAAa,2BAAb;AACAC,6BAAKN,GAAL,CAASiD,oBAAT;AACH,qBAJD,MAMA;AACInH,2BAAGqB,GAAH,CAAO,oDAAP;AACAmD,6BAAKD,OAAL,CAAa,mBAAb;AACAC,6BAAKvD,UAAL,GAAkB,CAAlB;AACAuD,6BAAKxB,QAAL;AACH;AACD;;AAEJ,qBAAKI,IAAIyC,kBAAJ,CAAuBuB,cAA5B;AACIpH,uBAAGqB,GAAH,CAAO,qBAAqBsE,MAAM0B,UAAN,EAArB,GAA0C,IAA1C,GAAiD1B,MAAMc,UAAN,EAAxD;AACAjC,yBAAKD,OAAL,CAAa,eAAeoB,MAAM0B,UAAN,EAAf,GAAoC,IAApC,GAA2C1B,MAAMc,UAAN,EAAxD;AACA;;AAEJ,qBAAKrD,IAAIyC,kBAAJ,CAAuByB,gBAA5B;AACItH,uBAAGqB,GAAH,CAAO,uBAAuBsE,MAAMc,UAAN,EAA9B;AACAjC,yBAAKD,OAAL,CAAa,eAAeoB,MAAMc,UAAN,EAA5B;AACA;;AAEJ;AACI;AA1GR;AA4GH,SA/GsB,CAAvB;;AAiHAzG,WAAGuH,YAAH,CAAgBC,WAAhB,CAA4B,KAAK/B,eAAjC,EAAkD,CAAlD;AACA,aAAKvB,GAAL,CAASuD,MAAT;AACH,KA7OI;;AA+OLlD,aAAS,iBAASmD,IAAT,EAAe;AACpB1H,WAAGqB,GAAH,CAAOqG,IAAP;AACA,aAAK9G,aAAL,CAAmB2B,MAAnB,GAA4BmF,IAA5B;AACH,KAlPI;;AAoPLpF,gBAAa,sBAAY;AACrBtC,WAAG2H,MAAH,CAAUC,UAAV,CAAqB,iCAArB;AACA5H,WAAG2H,MAAH,CAAUC,UAAV,CAAqB,mBAArB;AACA5H,WAAG2H,MAAH,CAAUC,UAAV,CAAqB,mBAArB;AACH,KAxPI;;AA0PLC,sBAAmB,0BAAUlC,KAAV,EAAgBmC,eAAhB,EAAiC;AAChD9H,WAAGqB,GAAH,CAAO,8BAAP;AACAnC,iBAAS6I,UAAT,CAAoB5I,aAAa6I,eAAjC;AACAtJ,mBAAW4C,WAAX,GAAyB2G,eAAzB,GAA2CC,OAAOJ,eAAP,CAA3C;AACA,YAAIA,mBAAmB,CAAvB,EACA;AACI;AACA/I,wBAAYgI,IAAZ,CAAiB,SAAjB;AACA/G,eAAGqB,GAAH,CAAO,qCAAP;AACApC,sBAAUqC,WAAV,GAAwB6G,eAAxB;AACH,SAND,MAQA;AACI;AACA;AACApJ,wBAAYgI,IAAZ,CAAiB,SAAjB;AACAtI,0BAAc6C,WAAd,GAA4B8G,WAA5B;AACH;AACJ,KA5QI;;AA8QLC,oBAAiB,wBAAU1C,KAAV,EAAiB;AAC9B3F,WAAGqB,GAAH,CAAO,4BAAP;AACA,aAAKD,MAAL,CAAYuE,KAAZ;AACA,YAAGA,SAAS2C,SAAZ,EACA;AACItI,eAAGuI,KAAH,CAAS,8CAAT;AACA;AACH;;AAED,YAAG5C,MAAM6C,SAAT,EAAmB;AACf,gBAAIC,MAAM9C,MAAM8C,GAAhB;AACA,gBAAIC,OAAO/C,MAAM+C,IAAjB;;AAEA,gBAAGD,OAAOE,QAAQC,mBAAlB,EACA;AACI;AACA;AACA;AACA,oBAAGF,KAAKG,IAAL,IAAa,CAAhB,EACA;AACInK,+BAAW4C,WAAX,GAAyBwH,SAAzB,GAAqCZ,OAAOQ,KAAKI,SAAZ,CAArC;;AAEApK,+BAAW4C,WAAX,GAAyBuB,SAAzB,GAA4C6F,KAAKK,MAAjD;AACArK,+BAAW4C,WAAX,GAAyB0H,YAAzB,GAA4CN,KAAKO,GAAL,GAAW,OAAvD;AACAvK,+BAAW4C,WAAX,GAAyB4H,gBAAzB,GAA4CR,KAAKS,OAAL,GAAe,OAA3D;AACAnJ,uBAAGqB,GAAH,CAAO,yCAAP,EAAkD3C,WAAW4C,WAAX,GAAyBwH,SAA3E,EACI,gBADJ,EACsBpK,WAAW4C,WAAX,GAAyB0H,YAD/C,EAEI,oBAFJ,EAE2BtK,WAAW4C,WAAX,GAAyB4H,gBAFpD;AAGA,yBAAKzG,aAAL;AACH;AACJ;AACJ,SAtBD,MAwBA;AACI,gBAAGkD,MAAM+C,IAAN,IAAc,IAAjB,EACA;AACI,oBAAIlE,OAAO,IAAX;AACA,oBAAImC,QAAQ9H,UAAU+H,MAAV,EAAZ;AACAD,sBAAME,iBAAN,CAAwB,YAAY;AAChCrC,yBAAK5C,aAAL;AACH,iBAFD,EAEE,IAFF;;AAIA+E,sBAAMyC,iBAAN,CAAwB,YAAY,CAEnC,CAFD,EAEE,IAFF;;AAIA,oBAAIrC,OAAO,iBAAX;AACAJ,sBAAMI,IAAN,CAAWA,IAAX,EAAiBC,iBAAiBqC,YAAlC;AACH;AAEJ;AACJ,KAjUI;;AAmULnG,oBAAiB,0BAAY;AACzB,YAAIxE,WAAW4C,WAAX,GAAyBwH,SAAzB,IAAsC,CAA1C,EAA6C;AACzC,iBAAKnI,WAAL,CAAiBoB,IAAjB,CAAsBkB,MAAtB,GAA+B,IAA/B;AACH,SAFD,MAEO,IAAIvE,WAAW4C,WAAX,GAAyBwH,SAAzB,IAAsC,CAA1C,EAA6C;AAChD,iBAAKrI,YAAL,CAAkBsB,IAAlB,CAAuBkB,MAAvB,GAAgC,IAAhC;AACH,SAFM,MAEA,IAAIvE,WAAW4C,WAAX,GAAyBwH,SAAzB,IAAsC,CAA1C,EAA6C;AAChD,iBAAKrI,YAAL,CAAkBsB,IAAlB,CAAuBkB,MAAvB,GAAgC,IAAhC;AACA,iBAAKtC,WAAL,CAAiBoB,IAAjB,CAAsBkB,MAAtB,GAA+B,IAA/B;AACH;AACJ,KA5UI;;AA8ULqG,eAAY,mBAAU3D,KAAV,EAAiB;AACzB3F,WAAGqB,GAAH,CAAO,wBAAP;AACA,YAAImF,MAAMb,MAAM+C,IAAhB;AACA,YAAIa,MAAM/C,IAAI+C,GAAd;AACA,gBAAQA,GAAR;AAEI,iBAAK7J,OAAO8J,oBAAZ;AACI,qBAAKC,UAAL,CAAgBjD,GAAhB;AACA;;AAEJ,iBAAK9G,OAAOgK,wBAAZ;AACI1J,mBAAGqB,GAAH,CAAO,mCAAmCmF,IAAImD,SAAvC,GAAmD,UAAnD,GAAgEnD,IAAIoD,OAA3E;AACA,oBAAIpD,IAAIqC,IAAJ,GAAW,CAAf,EAAkB;AACdnK,+BAAW4C,WAAX,GAAyBuI,SAAzB,GAAqCrD,IAAIsD,SAAzC;AACApL,+BAAW4C,WAAX,GAAyBqI,SAAzB,GAAqCnD,IAAImD,SAAzC;AACAjL,+BAAW4C,WAAX,GAAyBsI,OAAzB,GAAqCpD,IAAIoD,OAAzC;AACAlL,+BAAW4C,WAAX,GAAyByI,aAAzB,GAAyC,IAAzC;AACH;AACD;AAdR;AAgBH,KAlWI;;AAoWLN,gBAAa,oBAAUjD,GAAV,EACb;AACIxG,WAAGqB,GAAH,CAAO,mCAAmC2I,KAAKC,SAAL,CAAezD,GAAf,CAA1C;AACAzH,oBAAYmL,OAAZ;AACA,YAAI1D,IAAIqC,IAAJ,KAAasB,cAAcC,WAA/B,EACA;AACI1L,uBAAW4C,WAAX,GAAyByI,aAAzB,GAAyC,KAAzC;AACArL,uBAAW4C,WAAX,GAAyBqI,SAAzB,GAAqC,CAArC;AACAjL,uBAAW4C,WAAX,GAAyBsI,OAAzB,GAAqC,CAArC;AACA,iBAAKS,QAAL;AACH,SAND,MAQA;AACI,gBAAIC,YAAYzL,UAAU+H,MAAV,EAAhB;AACA0D,sBAAUC,OAAV,CAAkB/D,IAAIgE,IAAtB,EAA4BxD,iBAAiBC,WAA7C;AACH;AACJ,KApXI;;AAsXLwD,iBAAc,uBACd;AACIzK,WAAGqB,GAAH,CAAO,4CAA4C,KAAKW,WAAxD;AACA,YAAG,KAAKA,WAAL,IAAoB,EAApB,IAA0B,KAAKA,WAAL,IAAoBsG,SAAjD,EACA;AACI,mBAAOtJ,SAASsC,WAAT,GAAuBoJ,YAAvB,EAAP;AACH;AACD,eAAO,KAAK1I,WAAZ;AACH,KA9XI;;AAgYLJ,mBAAgB,yBAAY;;AAExB,YAAI8G,OAAO;AACPiC,iBAAMjM,WAAW4C,WAAX,GAAyBsJ,SADxB;AAEPC,iBAAMnM,WAAW4C,WAAX,GAAyBC;AAFxB,SAAX;;AAKA/C,oBAAY8C,WAAZ,GAA0BwJ,iBAA1B,CAA4CnC,QAAQC,mBAApD,EACIF,IADJ,EACUhK,WAAW4C,WAAX,GAAyByJ,SADnC;AAEH,KAzYI;;AA2YLV,cAAW,oBAAY;AACnBrK,WAAGqB,GAAH,CAAO,uBAAP;AACArB,WAAGgL,QAAH,CAAYC,SAAZ,CAAsB,WAAtB,EAAmC,KAAKC,WAAxC;AACA9L,mBAAWkC,WAAX,GAAyB6J,UAAzB,CAAoC,eAAexM,WAAW2C,WAAX,GAAyB8J,GAA5E;AACH,KA/YI;;AAiZLF,iBAAc,uBAAY;AACtBlL,WAAGqB,GAAH,CAAO,0BAAP;AACH,KAnZI;;AAqZLY,0BAAqB,gCAAY;AAC7B;AACA,YAAG,CAACjC,GAAG2C,GAAH,CAAOC,QAAX,EACA;AACI,gBAAIyI,WAAWhM,eAAe,KAAf,CAAf;AACAW,eAAGqB,GAAH,CAAO,kDAAkDgK,QAAzD;AACA,gBAAGA,YAAW,IAAX,IAAmBA,SAASC,QAAT,GAAoBxH,MAApB,GAA6B,CAAnD,EACA;AACG,uBAAOuH,QAAP;AACF;AACD,mBAAO,EAAP;AACH;AACJ,KAjaI;AAkaLE,iBAAc,uBAAY;AACtBC,UAAEC,SAAF,CAAY,8DAAZ,EAA2E,YAAU;AACjF9E,kBAAM+E,eAAeC,OAArB,EADiF,CACnD;AAC9BhF,kBAAM+E,eAAeE,QAArB,EAFiF,CAElD;AAC/BjF,kBAAM+E,eAAeG,IAArB,EAHiF,CAGtD;AAC9B,SAJD;AAKH,KAxaI;;AA0aLC,eAAW,qBAAY;AACnB,YAAI,KAAKrG,eAAT,EAA0B;AACtBzF,eAAGuH,YAAH,CAAgBwE,cAAhB,CAA+B,KAAKtG,eAApC;AACA,iBAAKA,eAAL,GAAuB,IAAvB;AACH;AACD,YAAI,KAAKvB,GAAL,IAAY,CAAClE,GAAG2C,GAAH,CAAOqJ,4BAAxB,EAAsD;AAClD,iBAAK9H,GAAL,CAAS+H,OAAT;AACH;AACD,aAAK7K,MAAL;AACH;;AAnbI,CAAT",
  "file": "unknown",
  "sourcesContent": [
    "/**\r\n *\r\n * 　　　┏┓　　　┏┓\r\n * 　　┏┛┻━━━┛┻┓\r\n * 　　┃　　　　　　 ┃\r\n * 　　┃　　　━　　　┃\r\n * 　　┃　┳┛　┗┳　  ┃\r\n * 　　┃　　　　　　 ┃\r\n * 　　┃　　　┻　　　┃\r\n * 　　┃　　　　　　 ┃\r\n * 　　┗━┓　　　┏━┛Code is far away from bug with the animal protecting\r\n * 　　　　┃　　　┃    神兽保佑,代码无bug\r\n * 　　　　┃　　　┃\r\n * 　　　　┃　　　┗━━━┓\r\n * 　　　　┃　　　　　 ┣┓\r\n * 　　　　┃　　　　 ┏┛\r\n * 　　　　┗┓┓┏━┳┓┏┛\r\n * 　　　　　┃┫┫　┃┫┫\r\n * 　　　　　┗┻┛　┗┻┛\r\n *\r\n */\r\nvar BaseScene = require(\"BaseScene\");\r\nvar HttpManager = require('HttpManager');\r\nvar SocketManager = require('SocketManager');\r\nvar GameSystem = require('GameSystem');\r\nvar GamePlayer = require('GamePlayer');\r\nvar UtilTool = require('UtilTool');\r\nvar AlertView  = require('AlertView');\r\nvar ToastView = require('ToastView');\r\nvar LoadingView = require('LoadingView');\r\nvar Platform = require('Platform');\r\nvar WeChatApi = require('WeChatApi');\r\nvar MusicMgr = require('MusicMgr');\r\nvar Audio_Common = require('Audio_Common');\r\nvar GameCallOC = require('GameCallOC');\r\n\r\n\r\nfunction GetQueryString(name)\r\n{\r\n    var reg = new RegExp(\"(^|&)\"+ name +\"=([^&]*)(&|$)\");\r\n    var r = window.location.search.substr(1).match(reg);\r\n    if(r!=null)return  unescape(r[2]); return null;\r\n};\r\n\r\ncc.Class({\r\n    extends: BaseScene,\r\n\r\n    properties: {\r\n        LabelVersion     : cc.Label,\r\n        GameNotice       : cc.Label,\r\n        LogoSprite       : cc.Sprite,\r\n        weChatButton     : cc.Button,\r\n        localButton      : cc.Button,\r\n        HotUpdateTips    : cc.Label,\r\n        HotUpdateProgress: cc.ProgressBar,\r\n        _StoragePath     : \"\",\r\n        _ManifestUrl     : \"res/project.manifest\",\r\n        _failCount       : 0,\r\n        _maxFailCount    : 2,              //最大错误重试次数\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this._super();\r\n        cc.log(\"LoadingScene.onLoad,versions = \" + GameSystem.getInstance().version);\r\n        GameSystem.getInstance().version = GameCallOC.getInstance().getAppVersionCode();\r\n        cc.log(\"LoadingScene.onLoadNew,versions = \" + GameSystem.getInstance().version);\r\n\t\r\n        SocketManager.getInstance().disconnect();\r\n        this.onGameBack = true;\r\n        GameSystem.getInstance().bLogin = false;\r\n\r\n        this.sendGetRouter();\r\n        cc.game.addPersistRootNode(this.GameNotice.node);\r\n        this.webDeviceID = this.getLocalInfoByWebUrl();\r\n        window.TestAccount =  this.webDeviceID;\r\n        GameSystem.getInstance().gameNotice = null;\r\n        UtilTool.getNowFormatDate();\r\n        MusicMgr.initAudio();\r\n        this.loadingRes();\r\n        this._failCount = 0;\r\n        this.LabelVersion.string = \"Version:\" + GameCallOC.getInstance().getAppVersion();\r\n    },\r\n\r\n    onCheckStatus: function () {\r\n        if (GameSystem.getInstance().bClientHotUpdate || !cc.sys.isNative\r\n        || GameSystem.getInstance().VerStatus == GameSystem.getInstance().VerStatusType.VERSION_TYPE_AUDIT) {\r\n            cc.log(\"onHotUpdate bClientHotUpdate = \", GameSystem.getInstance().bClientHotUpdate);\r\n            this.gotoGame();\r\n        } else {\r\n            //this.onHotUpdate();\r\n            this.gotoGame();\r\n        }\r\n    },\r\n\r\n    gotoGame: function () {\r\n        GameSystem.getInstance().bClientHotUpdate = true;\r\n        this.HotUpdateProgress.node.active = false;\r\n        this.updateLoginBtn();\r\n        //this.sendGetRouter();\r\n    },\r\n\r\n    onHotUpdate: function () {\r\n        if (!cc.sys.isNative) {\r\n            this.gotoGame();\r\n            return;\r\n        }\r\n        \r\n        this.HotUpdateProgress.node.active = true;\r\n        this._StoragePath = ((jsb.fileUtils ? jsb.fileUtils.getWritablePath() : '/') + \"temp\");\r\n        cc.log(\"Storage path for remote asset :\" , this._StoragePath);\r\n\r\n        // Setup your own version compare handler, versionA and B is versions in string\r\n        // if the return value greater than 0, versionA is greater than B,\r\n        // if the return value equals 0, versionA equals to B,\r\n        // if the return value smaller than 0, versionA is smaller than B.\r\n        var versionCompareHandle  = function (versionA, versionB) {\r\n            cc.log(\"Js Custom Version Compare: versionA is \" + versionA, \" versionB is\" + versionB);\r\n            var vA = versionA.split('.');\r\n            var vB = versionB.split('.');\r\n            for (var i = 0; i < vA.length; ++i) {\r\n                var a = parseInt(vA[i]);\r\n                var b = parseInt(vB[i]);\r\n                if (a == b) {\r\n                    continue;\r\n                } else {\r\n                    return a - b;\r\n                }\r\n            }\r\n            if (vB.length > vA.length) {\r\n                return -1;\r\n            } else {\r\n                return 0;\r\n            }\r\n        };\r\n\r\n        this._am = new jsb.AssetsManager(this._ManifestUrl, this._StoragePath, versionCompareHandle);\r\n        this._am.retain();\r\n        if (!this._am.getLocalManifest().isLoaded()) {\r\n            this.sendLog(\"加载本地文件失败\");\r\n            cc.log(\"未找到本地manifest文件\");\r\n            this.gotoGame();\r\n            return;\r\n        }\r\n\r\n        var self = this;\r\n        this._am.setVerifyCallback(function (path, asset) {\r\n            var compressed   = asset.compressed;\r\n            var expectedMd5  = asset.md5;\r\n            var relativePath = asset.path;\r\n            var size         = asset.size;\r\n            //self.sendLog(\"Verification passed:\" + relativePath);\r\n            return true;\r\n        })\r\n\r\n        if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n            this._am.setMaxConcurrentTask(2);\r\n        }\r\n\r\n        this.HotUpdateProgress.progress = 0;\r\n\r\n        var resVersion = this._am.getLocalManifest().getVersion();\r\n        var packageUrl = this._am.getLocalManifest().getPackageUrl();\r\n        this.sendLog(\"提示: 版本:\" + resVersion + \", 路径:\" + packageUrl);\r\n\r\n\r\n        this._updateListener = new jsb.EventListenerAssetsManager(this._am, function (event) {\r\n            cc.log(\"hotUpdateCallback code: \" + event.getEventCode());\r\n\r\n            switch (event.getEventCode()){\r\n                case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:\r\n                    cc.log(\"ERROR_NO_LOCAL_MANIFEST.\");\r\n                    self.sendLog(\"错误: 未找到本地manifest文件, 跳过更新\");\r\n                    self.gotoGame();\r\n                    break;\r\n\r\n                case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:\r\n                    cc.log(\"ERROR_DOWNLOAD_MANIFEST.\");\r\n                    self.sendLog(\"错误: 下载manifest文件失败, 跳过更新\");\r\n                    self.gotoGame();\r\n                    break;\r\n\r\n                case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:\r\n                    cc.log(\"ERROR_PARSE_MANIFEST.\");\r\n                    self.sendLog(\"错误: 解析manifest文件失败, 跳过更新\");\r\n                    self.gotoGame();\r\n                    break;\r\n\r\n                case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:\r\n                    cc.log(\"ALREADY_UP_TO_DATE.\");\r\n                    self.sendLog(\"提示：已经是最新版本.\");\r\n                    self.gotoGame();\r\n                    break;\r\n\r\n                case jsb.EventAssetsManager.NEW_VERSION_FOUND:\r\n                    cc.log(\"NEW_VERSION_FOUND.\");\r\n                    self.sendLog(\"提示：发现新版本.\");\r\n                    self.HotUpdateProgress.progress = 0;\r\n                    break;\r\n\r\n                case jsb.EventAssetsManager.UPDATE_PROGRESSION:\r\n                    cc.log(\"getPercent=\" + event.getPercent());\r\n                    var num = parseFloat(parseInt(event.getPercent())/100.0);\r\n                    cc.log(\"num=\" + num);\r\n                    self.HotUpdateTips.string = \"更新进度：\" + event.getPercent().toFixed(2) + \"%\";\r\n                    self.HotUpdateProgress.progress = num;\r\n                    cc.log(\"progress=\", self.HotUpdateProgress.progress);\r\n\r\n                    var msg = event.getMessage();\r\n                    if (msg) {\r\n                        cc.log(\"更新文件: \", msg);\r\n                        self.sendLog(\"更新文件: \" + msg);\r\n                    }\r\n                    break;\r\n\r\n                case jsb.EventAssetsManager.UPDATE_FINISHED:\r\n                {\r\n                    cc.log(\"UPDATE_FINISHED.\");\r\n                    self.sendLog(\"提示：更新完成.\");\r\n\r\n                    if(GameCallOC.getInstance.getAppVersionCode() > 1100)\r\n                    {\r\n                        var alert = AlertView.create();\r\n                        alert.setPositiveButton(function () {\r\n                            GameCallOC.getInstance().exitApp();\r\n                        }, \"确定\");\r\n                        alert.show(\"更新完成,请重启APP！\",AlertViewBtnType.E_BTN_CLOSE);\r\n                        return;\r\n                    }\r\n\r\n\r\n                    // Prepend the manifest's search path\r\n                    // var searchPaths = jsb.fileUtils.getSearchPaths();\r\n                    // var newPaths = self._am.getLocalManifest().getSearchPaths();\r\n                    // console.log(JSON.stringify(newPaths));\r\n                    // Array.prototype.unshift(searchPaths, newPaths);\r\n                    // // This value will be retrieved and appended to the default search path during game startup,\r\n                    // // please refer to samples/js-tests/main.js for detailed usage.\r\n                    // // !!! Re-add the search paths in main.js is very important, otherwise, new scripts won't take effect.\r\n                    // cc.sys.localStorage.setItem('HotUpdateSearchPaths', JSON.stringify(searchPaths));\r\n                    // jsb.fileUtils.setSearchPaths(searchPaths);\r\n                    self.gotoGame();\r\n                    //self.gotoHall();\r\n                }\r\n                    break;\r\n\r\n                case jsb.EventAssetsManager.UPDATE_FAILED:\r\n                    cc.log(\"UPDATE_FAILED: \" + event.getMessage());\r\n                    self.sendLog(\"错误:\" + event.getMessage() + \", failCount=\" + this._failCount);\r\n                    self._failCount++;\r\n                    if (self._failCount < self._maxFailCount)\r\n                    {\r\n                        self.sendLog(\"err, downloadFailedAssets\");\r\n                        self._am.downloadFailedAssets();\r\n                    }\r\n                    else\r\n                    {\r\n                        cc.log(\"err, Reach maximum fail count, exit update process\");\r\n                        self.sendLog(\"错误: 更新失败超过2次，跳过更新\");\r\n                        self._failCount = 0;\r\n                        self.gotoGame();\r\n                    }\r\n                    break;\r\n\r\n                case jsb.EventAssetsManager.ERROR_UPDATING:\r\n                    cc.log(\"ERROR_UPDATING: \" + event.getAssetId() + \", \" + event.getMessage());\r\n                    self.sendLog(\"错误, 升级出错: \" + event.getAssetId() + \", \" + event.getMessage());\r\n                    break;\r\n\r\n                case jsb.EventAssetsManager.ERROR_DECOMPRESS:\r\n                    cc.log(\"ERROR_DECOMPRESS: \" + event.getMessage());\r\n                    self.sendLog(\"错误, 解压失败: \" + event.getMessage());\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n        });\r\n\r\n        cc.eventManager.addListener(this._updateListener, 1);\r\n        this._am.update();\r\n    },\r\n\r\n    sendLog: function(text) {\r\n        cc.log(text);\r\n        this.HotUpdateTips.string = text;\r\n    },\r\n\r\n    loadingRes : function () {\r\n        cc.loader.loadResDir(\"prefabs/LoadingView/LoadingView\");\r\n        cc.loader.loadResDir(\"prefabs/alertView\");\r\n        cc.loader.loadResDir(\"prefabs/toastView\");\r\n    },\r\n    \r\n    callbackBtnLogin : function (event,CustomEventData) {\r\n        cc.log(\"LoadingView.callbackBtnLogin\");\r\n        MusicMgr.playEffect(Audio_Common.AUDIO_BTN_CLICK);\r\n        GameSystem.getInstance().CustomLoginType = Number(CustomEventData);\r\n        if (CustomEventData == 2)\r\n        {\r\n            //GameCallOC.getInstance().StartRecord(6000);\r\n            LoadingView.show(\"正在登陆...\");\r\n            cc.log(\"LoadingView.callbackBtnLogin weixin\");\r\n            WeChatApi.getInstance().sendWeChatLogin();\r\n        }\r\n        else\r\n        {\r\n            //GameCallOC.getInstance().StopRecording();\r\n            //this.sendLogin(Number(CustomEventData));\r\n            LoadingView.show(\"正在登陆...\");\r\n            SocketManager.getInstance().startSocket();\r\n        }\r\n    },\r\n\r\n    onHttpResponse : function (event) {\r\n        cc.log('LoadingView.onHttpResponse');\r\n        this._super(event);\r\n        if(event == undefined)\r\n        {\r\n            cc.error(\"LoadingView.onHttpResponse,event = undefined\");\r\n            return ;\r\n        }\r\n\r\n        if(event.isSucceed){\r\n            let tag = event.tag;\r\n            let data = event.data;\r\n\r\n            if(tag == HttpTag.HTTP_TAG_GET_ROUTER)\r\n            {\r\n                //{\"access\":\"/GetRouter\",\"code\":0,\"desc\":\"执行成功\",\"pid\":1,\"ver\":1000,\r\n                // \"logintype\":3,\"area\":1,\"url\":\"http://120.26.81.151:8080\",\"status\":1,\r\n                // \"backurl\":\"http://120.26.81.151:8080\"}\r\n                if(data.code == 0)\r\n                {\r\n                    GameSystem.getInstance().logintype = Number(data.logintype);\r\n\r\n                    GameSystem.getInstance().VerStatus        = data.status;\r\n                    GameSystem.getInstance().webSocketUrl     = data.url + \"/game\";\r\n                    GameSystem.getInstance().backWebSocketUrl = data.backurl + \"/game\";\r\n                    cc.log(\"LoadingView.onHttpResponse, logintype= \", GameSystem.getInstance().logintype,\r\n                        \" webSocketUrl=\", GameSystem.getInstance().webSocketUrl,\r\n                        \" backWebSocketUrl=\",  GameSystem.getInstance().backWebSocketUrl);\r\n                    this.onCheckStatus();\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if(event.data == null)\r\n            {\r\n                var self = this;\r\n                var alert = AlertView.create();\r\n                alert.setPositiveButton(function () {\r\n                    self.sendGetRouter();\r\n                },\"重试\");\r\n                \r\n                alert.setNegativeButton(function () {\r\n                    \r\n                },\"取消\")\r\n\r\n                var show = \"网络链接错误，请检查您的网络!\";\r\n                alert.show(show, AlertViewBtnType.E_BTN_CANCLE);\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    updateLoginBtn : function () {\r\n        if (GameSystem.getInstance().logintype == 1) {\r\n            this.localButton.node.active = true;\r\n        } else if (GameSystem.getInstance().logintype == 2) {\r\n            this.weChatButton.node.active = true;\r\n        } else if (GameSystem.getInstance().logintype == 3) {\r\n            this.weChatButton.node.active = true;\r\n            this.localButton.node.active = true;\r\n        }\r\n    },\r\n\r\n    onMessage : function (event) {\r\n        cc.log(\"LoadingScene.onMessage\");\r\n        var msg = event.data;\r\n        var cmd = msg.cmd;\r\n        switch (cmd)\r\n        {\r\n            case window.US_RESP_LOGIN_CMD_ID:\r\n                this.onLoginMsg(msg);\r\n                break;\r\n\r\n            case window.US_NOTIFY_IN_GAME_CMD_ID:\r\n                cc.log(\"LoadingScene notifyInGame, msg\" + msg.gamesvcid + \",tableid\" + msg.tableid);\r\n                if (msg.code > 0) {\r\n                    GameSystem.getInstance().roomLevel = msg.gamelevel\r\n                    GameSystem.getInstance().gamesvcid = msg.gamesvcid;\r\n                    GameSystem.getInstance().tableid   = msg.tableid;\r\n                    GameSystem.getInstance().bReloadInGame = true;\r\n                }\r\n                break;\r\n        }\r\n    },\r\n\r\n    onLoginMsg : function (msg)\r\n    {\r\n        cc.log(\"LoadingScene.onLoginMsg,msg = \" + JSON.stringify(msg));\r\n        LoadingView.dismiss();\r\n        if (msg.code === SocketRetCode.RET_SUCCESS)\r\n        {\r\n            GameSystem.getInstance().bReloadInGame = false;\r\n            GameSystem.getInstance().gamesvcid = 0;\r\n            GameSystem.getInstance().tableid   = 0;\r\n            this.gotoHall();\r\n        }\r\n        else\r\n        {\r\n            var alertExit = AlertView.create();\r\n            alertExit.showOne(msg.desc, AlertViewBtnType.E_BTN_CLOSE);\r\n        }\r\n    },\r\n    \r\n    getDeviceId : function()\r\n    {\r\n        cc.log(\"LoadingScene.getDeviceId,webDeviceID = \" + this.webDeviceID);\r\n        if(this.webDeviceID == \"\" || this.webDeviceID == undefined)\r\n        {\r\n            return Platform.getInstance().generateUUID();\r\n        }\r\n        return this.webDeviceID ;\r\n    },\r\n\r\n    sendGetRouter : function () {\r\n\r\n        let data = {\r\n            pid : GameSystem.getInstance().productid,\r\n            ver : GameSystem.getInstance().version,\r\n        };\r\n\r\n        HttpManager.getInstance().sendCommonRequest(HttpTag.HTTP_TAG_GET_ROUTER,\r\n            data, GameSystem.getInstance().routerUrl);\r\n    },\r\n\r\n    gotoHall : function () {\r\n        cc.log(\"LoadingScene.gotoHall\");\r\n        cc.director.loadScene('HallScene', this.popUpNotice);\r\n        GameCallOC.getInstance().SetAppInfo(\"Bullfight_\" + GamePlayer.getInstance().uid);\r\n    },\r\n\r\n    popUpNotice : function () {\r\n        cc.log(\"LoadingScene.popUpNotice\");\r\n    },\r\n\r\n    getLocalInfoByWebUrl:function () {\r\n        //浏览器\r\n        if(!cc.sys.isNative)\r\n        {\r\n            let deviceid = GetQueryString(\"uid\");\r\n            cc.log(\"LoadingScene.getLocalInfoByWebUrl,deviceid = \" + deviceid);\r\n            if(deviceid !=null && deviceid.toString().length > 0)\r\n            {\r\n               return deviceid;\r\n            }\r\n            return \"\";\r\n        }\r\n    },\r\n    getLocalPos : function () {\r\n        $.getScript('http://int.dpool.sina.com.cn/iplookup/iplookup.php?format=js',function(){\r\n            alert(remote_ip_info.country);//国家\r\n            alert(remote_ip_info.province);//省份\r\n            alert(remote_ip_info.city);//城市\r\n        })\r\n    },\r\n\r\n    onDestroy: function () {\r\n        if (this._updateListener) {\r\n            cc.eventManager.removeListener(this._updateListener);\r\n            this._updateListener = null;\r\n        }\r\n        if (this._am && !cc.sys.ENABLE_GC_FOR_NATIVE_OBJECTS) {\r\n            this._am.release();\r\n        }\r\n        this._super();\r\n    }\r\n\r\n});\r\n"
  ]
}
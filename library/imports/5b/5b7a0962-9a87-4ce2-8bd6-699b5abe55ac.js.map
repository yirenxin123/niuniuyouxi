{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "GameSystem",
    "require",
    "window",
    "scaleTo",
    "node",
    "flag",
    "setScale",
    "scaleT0",
    "cc",
    "easing",
    "easeBackOut",
    "runAction",
    "moveViewIn",
    "setPosition",
    "p",
    "moveto",
    "moveTo",
    "prefabsMaps",
    "Map",
    "loadPrefabs",
    "resPath",
    "callback",
    "parent",
    "undefined",
    "hasLoad",
    "containsKey",
    "get",
    "log",
    "set",
    "loader",
    "loadRes",
    "err",
    "prefab",
    "delete",
    "error",
    "view",
    "instantiate",
    "addChild",
    "director",
    "getScene",
    "loadImg",
    "callBack",
    "sprteType",
    "type",
    "SpriteFrame",
    "spriteFrame",
    "CheckPerChar",
    "cell",
    "C1",
    "C2",
    "KEY",
    "CheckAccPwd",
    "strPwd",
    "i",
    "length",
    "c",
    "charCodeAt",
    "Encrypt",
    "S",
    "Key",
    "newStr",
    "str",
    "String",
    "fromCharCode",
    "j",
    "str1",
    "Math",
    "floor",
    "str2",
    "Decrypt",
    "Result",
    "UpdateHeadIcon",
    "sprIcon",
    "player",
    "tag",
    "iconID",
    "isMan",
    "sex",
    "icon",
    "spriteframe",
    "replace",
    "UpdateWXHeadIcon",
    "url",
    "load",
    "texture",
    "playAniOnce",
    "path",
    "getDisplayStringLenth",
    "strNickName",
    "unSize",
    "assert",
    "FindNode",
    "find",
    "splitString",
    "msg",
    "fontSize",
    "maxWidth",
    "arrayString",
    "stringLength",
    "arrayCount",
    "endIndex",
    "startIndex",
    "curString",
    "curWidth",
    "slice",
    "push",
    "ReadMoney",
    "num",
    "strNum",
    "arrStr",
    "index",
    "charAt",
    "newString",
    "GetGameName",
    "gamemode",
    "ServerType",
    "E_SIX_BULLFIGHT_TYPE",
    "GetGameType",
    "gametype"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "\r\nvar GameSystem = require('GameSystem');\r\n\r\n\r\n//内容缩放\r\nwindow.scaleTo = function( node, flag){\r\n    node.setScale(0.6);\r\n    var scaleT0 =  null;\r\n\r\n    scaleT0 =  cc.scaleTo(0.2,1.0).easing(cc.easeBackOut()) ;\r\n    // if(flag || 1){\r\n    //     scaleT0 =  cc.scaleTo(0.2,1.0).easing(cc.easeBackOut()) ;\r\n    // }else{\r\n    //     scaleT0 =  cc.scaleTo(0.2,0.8).easing(cc.easeBackOut()) ;\r\n    // }\r\n    node.runAction(scaleT0);\r\n};\r\n\r\nwindow.moveViewIn = function( node, flag){\r\n\r\n    node.setPosition(cc.p(0, -540));\r\n\r\n    var moveto =  cc.moveTo(0.2,cc.p(0,0));//.easing(cc.easeBackOut()) ;\r\n\r\n    node.runAction(moveto);\r\n};\r\n\r\n\r\n//加载本地预制体\r\nvar prefabsMaps = new Map();\r\nwindow.loadPrefabs = function (resPath, callback, parent) {\r\n    parent = parent === undefined ? 1 : parent ;\r\n    //预防同个节点重复加载\r\n    var hasLoad = prefabsMaps.containsKey(resPath) ;\r\n    // cc.warn(\"hasLoad = %s\" ,hasLoad) ;\r\n\r\n    if(hasLoad){\r\n        if(prefabsMaps.get(resPath).p == parent){\r\n            cc.log(\"%s,已经加载中\",resPath);\r\n            return ;\r\n        }\r\n    }\r\n\r\n    prefabsMaps.set(resPath,{p:parent}) ;\r\n    cc.loader.loadRes(resPath, function (err, prefab) {\r\n        prefabsMaps.delete(resPath);\r\n        if(err){\r\n            cc.error(resPath +\" 加载失败\");\r\n            // callback(null);\r\n            return ;\r\n        }\r\n\r\n        var view = cc.instantiate(prefab);\r\n        if(parent != 1 ){\r\n            parent.addChild(view);\r\n        }else{\r\n            cc.director.getScene().addChild(view) ;\r\n        }\r\n\r\n        if(callback){\r\n            callback(view);\r\n        }\r\n    });\r\n}\r\n\r\n//加载本地图片\r\nwindow.loadImg = function (resPath,callBack,sprteType) {\r\n    var type = sprteType === undefined ? cc.SpriteFrame : sprteType ;\r\n\r\n    cc.loader.loadRes(resPath, type,function (err, spriteFrame) {\r\n\r\n        if(err){\r\n            cc.error(\"-------------------------------------\"+resPath +\" 资源加载失败-----------------------\");\r\n            return ;\r\n        }\r\n        if(callBack){\r\n            callBack(spriteFrame);\r\n        }\r\n    });\r\n}\r\n\r\n\r\n//检测数字和数字\r\nwindow.CheckPerChar = function(cell)\r\n{\r\n    if((cell >=48 && cell<=57)      // 数字\r\n       ||(cell>=64 && cell<=90)     // 大写\r\n       ||(cell>=97 && cell<=122)\r\n       ||cell=='_')\r\n    {\r\n        return true;\r\n    }\r\n    else\r\n    {\r\n        return false;\r\n    }\r\n}\r\n\r\nwindow.C1 = 85742;\r\nwindow.C2 = 76343;\r\nwindow.KEY = 3965;\r\n\r\n//检测密码是否合法\r\nwindow.CheckAccPwd = function(strPwd) {\r\n    for(var i = 0 ; i<strPwd.length ; i++)\r\n    {\r\n        var c = strPwd[i].charCodeAt();\r\n        if(!CheckPerChar(c))\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\n//账号本地存储加密字符串\r\nwindow.Encrypt = function(S, Key) {\r\n\r\n    var newStr = \"\";\r\n    for(var i = 0; i < S.length; i++)\r\n    {\r\n        var str = S.charCodeAt(i);\r\n        str = str^(Key>>8);\r\n        str = String.fromCharCode(str);\r\n\r\n        // Key = (str.charCodeAt(0)+Key)*C1+C2;\r\n\r\n        newStr = newStr + str;\r\n    }\r\n\r\n    S = newStr;\r\n    newStr = \"\";\r\n    for(i = 0; i < S.length; i++)\r\n    {\r\n        var j = S.charCodeAt(i);\r\n        str = \"12\";\r\n        var str1 =  65 + Math.floor(j/26);\r\n        var str2 = 65 + j%26;\r\n        newStr = newStr +  String.fromCharCode(str1) + String.fromCharCode(str2);\r\n    }\r\n    return newStr;\r\n\r\n}\r\n\r\n//读取本地存储账号解密字符串\r\nwindow.Decrypt = function(S, Key) {\r\n\r\n    var Result = \"\";\r\n    for(var i = 0; i < S.length/2; i++)\r\n    {\r\n        var j = (S.charCodeAt(i*2) - 65)*26;\r\n        j += S.charCodeAt(i*2 + 1) - 65;\r\n        var str = String.fromCharCode(j);\r\n        Result += str;\r\n    }\r\n\r\n    S = Result;\r\n    var newStr = \"\";\r\n    for(i = 0; i < S.length; i++)\r\n    {\r\n        var str = S.charCodeAt(i);\r\n        str = str^(Key>>8);\r\n        str = String.fromCharCode(str);\r\n\r\n        // Key = (str.charCodeAt(0)+Key)*C1+C2;\r\n\r\n        newStr = newStr + str;\r\n    }\r\n\r\n    return newStr;\r\n\r\n}\r\n\r\n//更新头像\r\nwindow.UpdateHeadIcon = function(sprIcon,player) {\r\n    var tag = player.iconID;\r\n    if(tag==0)\r\n    {\r\n        var isMan = (player.sex == 1);\r\n        var icon = isMan ? \"hall/userCenterView/headIcon/user_headicon3\" : \"hall/userCenterView/headIcon/user_headicon0\";\r\n        window.loadImg(icon,function(spriteframe) {\r\n            sprIcon.spriteFrame = spriteframe;\r\n        });\r\n    }\r\n    else if(tag >0 && tag<=6)\r\n    {\r\n        var icon = \"hall/userCenterView/headIcon/user_headicon%d\";\r\n        icon = icon.replace(/%d/,tag-1);\r\n        window.loadImg(icon,function(spriteframe) {\r\n            sprIcon.spriteFrame = spriteframe;\r\n        });\r\n    }\r\n    else\r\n    {\r\n        // 网络下载\r\n        // std::string headtag = String::createWithFormat(\"headIcon%d\",p->uid)->getCString();\r\n        // HttpManager::getInstance()->sendDownLoadImage(headtag,p->headUrl);\r\n    }\r\n}\r\n\r\nwindow.UpdateWXHeadIcon = function(url, node)\r\n{\r\n    if(url == \"\" || url == \" \" )\r\n        return;\r\n    cc.loader.load(url,\r\n        function(error,texture){\r\n            cc.log('UpdateWXHeadIcon,error = ' + error);\r\n            cc.log('UpdateWXHeadIcon,texture = ' + texture);\r\n            var spriteFrame = new cc.SpriteFrame(texture);\r\n            node.spriteFrame = spriteFrame;\r\n        });\r\n}\r\n\r\n/**\r\n * 实例对象必须挂载在脚本上\r\n * @param path\r\n */\r\nwindow.playAniOnce = function (path,parent) {\r\n    var view = cc.instantiate(path);\r\n    if(parent){\r\n        parent.addChild(view);\r\n    }else {\r\n        cc.director.getScene().addChild(view) ;\r\n    }\r\n    return view;\r\n}\r\n\r\n/**\r\n * 获取字符串长度\r\n * @param path\r\n */\r\nwindow.getDisplayStringLenth = function(strNickName)\r\n{\r\n    if((strNickName == undefined) || (strNickName == \"\"))\r\n        return 0;\r\n        \r\n    var  unSize = 0;\r\n    for (var i = 0;i < strNickName.length;)\r\n    {\r\n        if (strNickName[i] < 0)\r\n        {\r\n            i += 3;\r\n            unSize += 2 ;\r\n        }\r\n        else\r\n        {\r\n            i += 1;\r\n            ++unSize;\r\n        }\r\n    }\r\n    return unSize;\r\n}\r\n\r\n\r\nwindow.assert = function (flag) {\r\n    if(!flag){\r\n        cc.error(\"!!!!!!!!!!!!!! assert error！！！！！！！！！！！\") ;\r\n    }\r\n}\r\n\r\nwindow.FindNode = function (node,path)\r\n{\r\n    return cc.find(path,node);\r\n}\r\n\r\n\r\nwindow.splitString = function (msg,fontSize,maxWidth) {\r\n    let arrayString = [];\r\n    let stringLength = msg.length;\r\n    let arrayCount = 0 ;\r\n    let endIndex = 0 ;\r\n    let startIndex =0;\r\n    let curString = \"\";\r\n\r\n    // let arrayIndex = 0 ;\r\n    for(let i=0; i<stringLength; i++){\r\n\r\n        let curWidth = arrayCount * fontSize;\r\n\r\n        if((curWidth + fontSize) > maxWidth){\r\n            endIndex = i;\r\n            curString =  msg.slice(startIndex,endIndex);\r\n            startIndex = endIndex;\r\n            arrayCount = 0;\r\n            arrayString.push(curString);\r\n        }else if( i == stringLength-1){\r\n            endIndex = i + 1;\r\n            curString =  msg.slice(startIndex,endIndex);\r\n            arrayString.push(curString);\r\n            arrayCount = 0;\r\n        }\r\n\r\n        arrayCount ++ ;\r\n    }\r\n\r\n    return arrayString;\r\n\r\n}\r\n\r\nwindow.ReadMoney = function (num) {\r\n    let strNum = num +\"\";\r\n    let arrStr = [];\r\n    let index = 0;\r\n    for(let i=strNum.length -1; i>=0; i--){\r\n        index ++ ;\r\n        arrStr.push(strNum.charAt(i));\r\n        if(index ==3 && i != (0)){\r\n            arrStr.push(\",\");\r\n            index = 0 ;\r\n        }\r\n    }\r\n    let newString = \"\";\r\n    for(let i = arrStr.length -1; i >=0; i--){\r\n        newString += arrStr[i];\r\n    }\r\n\r\n    return newString;\r\n}\r\n\r\nwindow.GetGameName = function (gamemode) {\r\n    if (gamemode == window.ServerType.E_SIX_BULLFIGHT_TYPE) {\r\n        return \"六人斗牛\";\r\n    }\r\n    return \"游戏\";\r\n}\r\n\r\nwindow.GetGameType = function (gametype) {\r\n    if (gametype == 1) {\r\n        return \"闭牌抢庄\";\r\n    } else if (gametype == 2) {\r\n        return \"3张抢庄\";\r\n    }\r\n    return \"\";\r\n}"
  ]
}
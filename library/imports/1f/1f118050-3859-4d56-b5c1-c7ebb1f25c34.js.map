{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "BasePop",
    "require",
    "MessageFactory",
    "MusicMgr",
    "Audio_Common",
    "GameSystem",
    "UtilTool",
    "cc",
    "Class",
    "extends",
    "properties",
    "RoomName",
    "default",
    "type",
    "Label",
    "GameName",
    "GameType",
    "MinAnte",
    "LiveTime",
    "MaxSeat",
    "SelfWinCoin",
    "SelfCarryCoin",
    "SelfPlayNum",
    "SelfWinNum",
    "SelfLoseNum",
    "SelfSuperNum",
    "SelfNormalNum",
    "SelfNotcallNum",
    "SelfBankerNum",
    "SelfGiftNum",
    "SelfUseGold",
    "SelfUseDiamond",
    "scrollView",
    "ScrollView",
    "PlayScorePrefab",
    "Prefab",
    "BtnShare",
    "Button",
    "onLoad",
    "_super",
    "getInstance",
    "VerStatus",
    "VerStatusType",
    "VERSION_TYPE_AUDIT",
    "node",
    "active",
    "onMessage",
    "event",
    "log",
    "msg",
    "data",
    "cmd",
    "US_RESP_SCORE_DETAIL_CMD_ID",
    "onScoreDetailbMsg",
    "code",
    "SocketRetCode",
    "RET_SUCCESS",
    "string",
    "table",
    "tablename",
    "GetGameName",
    "gameid",
    "GetGameType",
    "gametype",
    "minante",
    "getHourTime",
    "livetime",
    "maxseat",
    "myself",
    "wincoin",
    "carrycoin",
    "playnum",
    "winnum",
    "losenum",
    "supernum",
    "normalnum",
    "notcallnum",
    "bankernum",
    "giftnum",
    "usegold",
    "usediamond",
    "content",
    "height",
    "defaultPos",
    "index",
    "list",
    "length",
    "playScore",
    "instantiate",
    "addChild",
    "getContentSize",
    "setPosition",
    "p",
    "getComponent",
    "setScoreInfo",
    "sendGetSuccessDetail",
    "privateid",
    "createtime",
    "createMessageReq",
    "US_REQ_SCORE_DETAIL_CMD_ID",
    "send",
    "callbackBtn",
    "CustomEventData",
    "playEffect",
    "AUDIO_BTN_CLICK",
    "BtnName",
    "target",
    "getName",
    "dismiss",
    "message",
    "popView",
    "btn",
    "GlobalEventManager",
    "emitEvent",
    "window",
    "SocketMessage",
    "tag",
    "MessageType",
    "SCENE_MSG"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var BasePop = require('BasePop');\r\nvar MessageFactory = require('MessageFactory');\r\nvar MusicMgr   = require('MusicMgr');\r\nvar Audio_Common = require('Audio_Common');\r\nvar GameSystem = require('GameSystem');\r\nvar UtilTool   = require('UtilTool');\r\n\r\ncc.Class({\r\n    extends: BasePop,\r\n\r\n    properties: {\r\n        RoomName: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        GameName: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        GameType: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        MinAnte: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        LiveTime: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        MaxSeat: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n\r\n        SelfWinCoin: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        SelfCarryCoin: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        SelfPlayNum: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        SelfWinNum: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        SelfLoseNum: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        SelfSuperNum: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        SelfNormalNum: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        SelfNotcallNum: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        SelfBankerNum: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        SelfGiftNum: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        SelfUseGold: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        SelfUseDiamond: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n\r\n        scrollView      : cc.ScrollView,\r\n        PlayScorePrefab : cc.Prefab,\r\n        BtnShare : cc.Button,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this._super();\r\n\r\n        if(GameSystem.getInstance().VerStatus == GameSystem.getInstance().VerStatusType.VERSION_TYPE_AUDIT)\r\n        {\r\n            this.BtnShare.node.active = false;\r\n        }\r\n    },\r\n\r\n    /*********************Network***************************/\r\n    onMessage : function (event) {\r\n        cc.log(\"RoomInfoView.onMessage\");\r\n        //this._super(event);\r\n        var msg = event.data;\r\n        var cmd = msg.cmd;\r\n        switch (cmd) {\r\n            case US_RESP_SCORE_DETAIL_CMD_ID:\r\n                this.onScoreDetailbMsg(msg);\r\n                break;\r\n        }\r\n    },\r\n\r\n    //{\"cmd\":131214,\"seq\":2,\"uid\":11279,\"code\":0,\"desc\":\"执行成功\",\r\n    // \"param\":{\r\n    //  \"table\":{\"tablename\":\"游客11279\",\"gameid\":101,\"minante\":1,\"gametype\":1,\"livetime\":1800,\"maxseat\":2},\r\n    //  \"myself\":{\"carrycoin\":4000,\"wincoin\":-954,\"winnum\":6,\"losenum\":10,\"playnum\":16,\"supernum\":10,\r\n    //   \"normalnum\":3,\"notcallnum\":3,\"bankernum\":11,\"chatnum\":0,\"giftnum\":0,\"usegold\":0,\"usediamond\":100},\r\n    // \"list\":[{\"uid\":11279,\"name\":\"游客11279\",\"headurl\":\" \",\"carrycoin\":4000,\"wincoin\":-954},\r\n    //         {\"uid\":11300,\"name\":\"游客11300\",\"headurl\":\"\",\"carrycoin\":1000,\"wincoin\":954}]}}\r\n    onScoreDetailbMsg : function (msg) {\r\n        if(msg.code == SocketRetCode.RET_SUCCESS)\r\n        {\r\n            this.RoomName.string = msg.table.tablename;\r\n            this.GameName.string = GetGameName(msg.table.gameid);\r\n            this.GameType.string = GetGameType(msg.table.gametype);\r\n            this.MinAnte.string  = msg.table.minante;\r\n            this.LiveTime.string = UtilTool.getHourTime(msg.table.livetime);\r\n            this.MaxSeat.string  = msg.table.maxseat + \"人\";\r\n\r\n            this.SelfWinCoin.string    = msg.myself.wincoin;\r\n            this.SelfCarryCoin.string  = msg.myself.carrycoin;\r\n            this.SelfPlayNum.string    = msg.myself.playnum;\r\n            this.SelfWinNum.string     = msg.myself.winnum;\r\n            this.SelfLoseNum.string    = msg.myself.losenum;\r\n            this.SelfSuperNum.string   = msg.myself.supernum;\r\n            this.SelfNormalNum.string  = msg.myself.normalnum;\r\n            this.SelfNotcallNum.string = msg.myself.notcallnum;\r\n            this.SelfBankerNum.string  = msg.myself.bankernum;\r\n            this.SelfGiftNum.string    = msg.myself.giftnum;\r\n            this.SelfUseGold.string    = msg.myself.usegold;\r\n            this.SelfUseDiamond.string = msg.myself.usediamond;\r\n\r\n            cc.log(\"this.scrollView.content.height =\", this.scrollView.content.height);\r\n\r\n            let height     = 0;\r\n            let defaultPos = 1320;\r\n            for (var index = 0; msg.list != null && index < msg.list.length; index++) {\r\n                var playScore = cc.instantiate(this.PlayScorePrefab);\r\n                this.scrollView.content.addChild(playScore);\r\n                height = playScore.getContentSize().height;\r\n                playScore.setPosition(cc.p(0, -defaultPos - playScore.getContentSize().height * (index)));\r\n                playScore.getComponent(\"PlayScore\").setScoreInfo(msg.list[index]);\r\n            }\r\n            cc.log(\"height * (msg.list.length) =\" + height * (msg.list.length));\r\n\r\n            if ( height * (msg.list.length) + defaultPos > this.scrollView.content.height)\r\n            {\r\n                this.scrollView.content.height = height * (msg.list.length) + defaultPos;\r\n            }\r\n            cc.log(\"this.scrollView.content.height =\", this.scrollView.content.height);\r\n        }\r\n    },\r\n\r\n    sendGetSuccessDetail : function (msg) {\r\n        var data = {\r\n            privateid : msg.privateid,\r\n            createtime : msg.createtime,\r\n        };\r\n        MessageFactory.createMessageReq(US_REQ_SCORE_DETAIL_CMD_ID).send(data);\r\n    },\r\n    \r\n    callbackBtn : function(event,CustomEventData)\r\n    {\r\n    \tMusicMgr.playEffect(Audio_Common.AUDIO_BTN_CLICK);\r\n        var BtnName = event.target.getName();\r\n        if(BtnName == \"BtnBack\")\r\n        {\r\n            this.dismiss();\r\n        }\r\n        else if(BtnName == \"BtnShare\")\r\n        {\r\n            var message = {\r\n                popView : \"RoomInfoView\",\r\n                btn : \"BtnShare\"\r\n            };\r\n            GlobalEventManager.getInstance().emitEvent(window.SocketMessage,\r\n                {tag:window.MessageType.SCENE_MSG,data:message}) ;\r\n        }\r\n    },\r\n    \r\n});\r\n"
  ]
}
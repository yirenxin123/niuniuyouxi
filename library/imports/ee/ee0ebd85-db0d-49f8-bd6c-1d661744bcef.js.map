{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "BasePop",
    "require",
    "UtilTool",
    "MessageFactory",
    "LoadingView",
    "ToastView",
    "GamePlayer",
    "MusicMgr",
    "Audio_Common",
    "GameCallOC",
    "AlertView",
    "GameSystem",
    "cc",
    "Class",
    "extends",
    "properties",
    "ClubTitle",
    "Label",
    "ClubName",
    "ClubPersons",
    "ClubHead",
    "Sprite",
    "ClubAdress",
    "ClubOwner",
    "ClubMemberHead",
    "ClubMemHeadBg",
    "ClubOwnerHead",
    "ClubId",
    "ClubTime",
    "ClubIntroDoc",
    "RichText",
    "ClubMember",
    "Prefab",
    "ClubSetView",
    "ShareView",
    "ClubLevel",
    "ClubLevelView",
    "ccccc",
    "onLoad",
    "_super",
    "onMessage",
    "event",
    "log",
    "msg",
    "data",
    "cmd",
    "window",
    "CLUB_RESP_DISMISS_CLUB_CMD_ID",
    "onDismissClubMsg",
    "CLUB_RESP_GET_MEMBER_LIST_CMD_ID",
    "onGetClubMember",
    "CLUB_RESP_OWNER_RM_MEMBER_CMD_ID",
    "onDelMemberMsg",
    "code",
    "SocketRetCode",
    "RET_SUCCESS",
    "getInstance",
    "CurClubMemList",
    "list",
    "setHeadUrlList",
    "param",
    "uid",
    "dismiss",
    "message",
    "popView",
    "btn",
    "GlobalEventManager",
    "emitEvent",
    "SocketMessage",
    "tag",
    "MessageType",
    "SCENE_MSG",
    "sendGetMemberList",
    "role",
    "ClubRole",
    "E_CLUB_OWNER_ROLE",
    "show",
    "name",
    "clubname",
    "onSceneMsg",
    "setTextInfo",
    "CurClubInfo",
    "string",
    "members",
    "maxmember",
    "address",
    "ownername",
    "clubid",
    "intro",
    "getFormatData",
    "endtime",
    "getClubLevelName",
    "level",
    "length",
    "i",
    "node",
    "active",
    "UpdateWXHeadIcon",
    "headurl",
    "setClubInfo",
    "createMessageReq",
    "CLUB_REQ_GET_MEMBER_LIST_CMD_ID",
    "send",
    "callBackBtn",
    "CustomEventData",
    "BtnName",
    "target",
    "getName",
    "playEffect",
    "AUDIO_BTN_CLICK",
    "instantiate",
    "addChild",
    "setPosition",
    "p",
    "alert",
    "create",
    "setPositiveButton",
    "CLUB_REQ_DISMISS_CLUB_CMD_ID",
    "AlertViewBtnType",
    "E_BTN_CANCLE",
    "shareView",
    "getAppName",
    "getComponent",
    "setShareTyep",
    "ShareType",
    "E_SHARETYPE_LINK",
    "clienturl",
    "owneruid",
    "levelView"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var BasePop = require('BasePop');\r\nvar UtilTool = require('UtilTool');\r\nvar MessageFactory = require('MessageFactory');\r\nvar LoadingView = require('LoadingView');\r\nvar ToastView = require('ToastView');\r\nvar GamePlayer = require('GamePlayer');\r\nvar MusicMgr = require('MusicMgr');\r\nvar Audio_Common = require('Audio_Common');\r\nvar GameCallOC = require('GameCallOC');\r\nvar AlertView = require(\"AlertView\");\r\nvar GameSystem = require(\"GameSystem\");\r\n\r\ncc.Class({\r\n    extends: BasePop,\r\n\r\n    properties: {\r\n        ClubTitle      : cc.Label,      //俱乐部Title\r\n        ClubName       : cc.Label,      //俱乐部名称\r\n        ClubPersons    : cc.Label,\r\n        ClubHead       : cc.Sprite,\r\n        ClubAdress     : cc.Label,\r\n        ClubOwner      : cc.Label,\r\n        ClubMemberHead : [cc.Sprite],\r\n        ClubMemHeadBg  : [cc.Sprite],\r\n        ClubOwnerHead  : cc.Sprite,\r\n        ClubId         : cc.Label,\r\n        ClubTime       : cc.Label,\r\n        ClubIntroDoc   : cc.RichText,\r\n        ClubMember     : cc.Prefab,\r\n        ClubSetView    : cc.Prefab,\r\n        ShareView      : cc.Prefab,\r\n        ClubLevel      : cc.Label,\r\n        ClubLevelView  : cc.Prefab,\r\n        ccccc : cc.Label,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this._super();\r\n        // for (var i = 0; i < 4; i++) {\r\n        //     this.ClubMemHeadBg[i].node.active = false;\r\n        // }\r\n    },\r\n\r\n    /*********************Network***************************/\r\n    onMessage : function (event) {\r\n        cc.log(\"ClubInfoView.onMessage\");\r\n        //this._super(event);\r\n        var msg = event.data;\r\n        var cmd = msg.cmd;\r\n        switch (cmd) {\r\n            case window.CLUB_RESP_DISMISS_CLUB_CMD_ID:\r\n                this.onDismissClubMsg(msg);\r\n                break;\r\n\r\n            case CLUB_RESP_GET_MEMBER_LIST_CMD_ID:\r\n                this.onGetClubMember(msg);\r\n                break;\r\n\r\n            case window.CLUB_RESP_OWNER_RM_MEMBER_CMD_ID:\r\n                this.onDelMemberMsg(msg);\r\n                break;\r\n\r\n        }\r\n    },\r\n\r\n    onGetClubMember : function (msg) {\r\n        if (msg.code == SocketRetCode.RET_SUCCESS)\r\n        {\r\n            GamePlayer.getInstance().CurClubMemList = msg.list;\r\n            this.setHeadUrlList();\r\n        }\r\n    },\r\n\r\n    onDelMemberMsg : function (msg) {\r\n        cc.log(\"ClubInfoView.onDelMemberMsg msg=\", msg);\r\n        if (msg.code == SocketRetCode.RET_SUCCESS) {\r\n            if (msg.param.uid == GamePlayer.getInstance().uid) { //如果是我自己\r\n                this.dismiss();\r\n                cc.log(\"ClubInfoView.onDismissClubMsg notify ClubRoomView\");\r\n                var message = {\r\n                    popView : \"ClubInfoView\",\r\n                    btn     : \"onDismissClubMsg\",\r\n                };\r\n\r\n                GlobalEventManager.getInstance().emitEvent(window.SocketMessage,\r\n                    {tag:window.MessageType.SCENE_MSG, data:message});\r\n            } else {\r\n                this.sendGetMemberList();\r\n            }\r\n        }\r\n    },\r\n\r\n    onDismissClubMsg : function (msg)\r\n    {\r\n        cc.log(\"ClubInfoView.onDismissClubMsg msg=\", msg);\r\n        if(msg.code == SocketRetCode.RET_SUCCESS)\r\n        {\r\n            if (msg.param.role == window.ClubRole.E_CLUB_OWNER_ROLE) {\r\n\r\n                ToastView.show(\"群主\" + msg.param.name + \"解散了\" + msg.param.clubname) + \"俱乐部\";\r\n\r\n                LoadingView.dismiss();\r\n\r\n                this.dismiss();\r\n\r\n                cc.log(\"ClubInfoView.onDismissClubMsg notify ClubRoomView\");\r\n                var message = {\r\n                    popView : \"ClubInfoView\",\r\n                    btn     : \"onDismissClubMsg\",\r\n                };\r\n\r\n                GlobalEventManager.getInstance().emitEvent(window.SocketMessage,\r\n                                        {tag:window.MessageType.SCENE_MSG, data:message});\r\n\r\n            } else if (msg.param.uid == GamePlayer.getInstance().uid) { //如果是我自己\r\n\r\n                ToastView.show(\"您退出俱乐部\" + msg.param.clubname + \"成功\");\r\n\r\n                LoadingView.dismiss();\r\n\r\n                this.dismiss();\r\n\r\n                cc.log(\"ClubInfoView.onDismissClubMsg notify ClubRoomView\");\r\n                var message = {\r\n                    popView : \"ClubInfoView\",\r\n                    btn     : \"onDismissClubMsg\",\r\n                };\r\n\r\n                GlobalEventManager.getInstance().emitEvent(window.SocketMessage,\r\n                                        {tag:window.MessageType.SCENE_MSG, data:message});\r\n\r\n            } else { //如果是其他玩家,重新刷新一下用户头像\r\n                ToastView.show(msg.param.name + \"退出俱乐部\" + msg.param.clubname);\r\n                this.sendGetMemberList();\r\n            }\r\n        }\r\n    },\r\n\r\n    ///////////////////////Scene/////////////////////////\r\n    onSceneMsg : function (event) {\r\n        var msg = event.data;\r\n        if (msg.popView == \"ClubSetView\" || msg.popView == \"ClubMemberView\") {\r\n            if (msg.btn == \"BtnClose\") {\r\n                this.setTextInfo();\r\n                this.setHeadUrlList();\r\n            }\r\n        }\r\n    },\r\n\r\n    //[{\"clubid\":10000019,\"role\":1,\"owneruid\":10688,\"level\":1, \"name\":\"as\",\r\n    // \"headurl\":\"\",\"address\":\"广西 百色市\",\"intro\":\"\",\"endtime\":1494324197,\"status\":1,\r\n    // \"members\":1, \"maxmember\":10}]\r\n    setTextInfo : function () {\r\n        cc.log(\"ClubInfoView.setTextInfo info=\", GamePlayer.getInstance().CurClubInfo);\r\n\r\n        this.ClubTitle.string      = GamePlayer.getInstance().CurClubInfo.name;\r\n        this.ClubName.string       = GamePlayer.getInstance().CurClubInfo.name;\r\n        this.ClubPersons.string    = GamePlayer.getInstance().CurClubInfo.members + \"/\" +\r\n            GamePlayer.getInstance().CurClubInfo.maxmember;\r\n        this.ClubAdress.string     = GamePlayer.getInstance().CurClubInfo.address;\r\n        this.ClubOwner.string      = GamePlayer.getInstance().CurClubInfo.ownername;\r\n        this.ClubId.string         = GamePlayer.getInstance().CurClubInfo.clubid;\r\n        this.ClubIntroDoc.string   = GamePlayer.getInstance().CurClubInfo.intro;\r\n        // this.ClubMemberHead.length = GamePlayer.getInstance().CurClubInfo.members;\r\n        this.ClubTime.string = /*\"创建于\" + UtilTool.getFormatData(GamePlayer.getInstance().CurClubInfo.createtime) + \"  \"\r\n                                +*/ UtilTool.getFormatData(GamePlayer.getInstance().CurClubInfo.endtime) + \"到期\";\r\n        this.ClubLevel.string = this.getClubLevelName(GamePlayer.getInstance().CurClubInfo.level);\r\n    },\r\n\r\n    setHeadUrlList : function () {\r\n        var list = GamePlayer.getInstance().CurClubMemList;\r\n        if (list == null || list.length == 0) {\r\n            return;\r\n        }\r\n\r\n        var i = 0;\r\n        for (; i < list.length; i++) {\r\n            this.ClubMemHeadBg[i].node.active = true;\r\n            UpdateWXHeadIcon(list[i].headurl, this.ClubMemberHead[i])\r\n            if (i >= 3) {\r\n                break;\r\n            }\r\n        }\r\n\r\n        for (i= 0; i < list.length; i++) {\r\n            if (list[i].role == window.ClubRole.E_CLUB_OWNER_ROLE) {\r\n                UpdateWXHeadIcon(list[i].headurl, this.ClubOwnerHead);\r\n                return;\r\n            }\r\n        }\r\n    },\r\n\r\n    setClubInfo : function () {\r\n        this.setTextInfo();\r\n        this.sendGetMemberList();\r\n    },\r\n\r\n    sendGetMemberList : function () {\r\n        cc.log(\"ClubInfoView.sendGetMemberList clubid=\", GamePlayer.getInstance().CurClubInfo.clubid);\r\n        var data = {\r\n            clubid: GamePlayer.getInstance().CurClubInfo.clubid,\r\n        };\r\n        MessageFactory.createMessageReq(window.CLUB_REQ_GET_MEMBER_LIST_CMD_ID).send(data);\r\n    },\r\n\r\n    callBackBtn : function (event , CustomEventData) {\r\n        var BtnName = event.target.getName();\r\n        cc.log('ClubInfoView.callBackBtn,BtnName = ' + BtnName);\r\n        MusicMgr.playEffect(Audio_Common.AUDIO_BTN_CLICK);\r\n\r\n        if (BtnName == \"BtnChangeInfo\")\r\n        {\r\n            var ClubSetView = cc.instantiate(this.ClubSetView);\r\n            this.node.addChild(ClubSetView);\r\n            ClubSetView.setPosition(cc.p(0,0));\r\n        }\r\n        else if (BtnName == \"BtnClose\")\r\n        {\r\n            this.dismiss();\r\n\r\n            var message = {\r\n                popView : \"ClubInfoView\",\r\n                btn     : \"BtnClose\",\r\n            };\r\n            GlobalEventManager.getInstance().emitEvent(window.SocketMessage,\r\n                {tag:window.MessageType.SCENE_MSG, data:message});\r\n        }\r\n        else if(BtnName == \"BtnMember\")\r\n        {\r\n            var ClubMember = cc.instantiate(this.ClubMember);\r\n            this.node.addChild(ClubMember);\r\n            ClubMember.setPosition(cc.p(0,0));\r\n        }\r\n        else if(BtnName == \"BtnDelClub\")\r\n        {\r\n            var alert = AlertView.create();\r\n            alert.setPositiveButton(function () {\r\n                var data = {\r\n                    clubid : GamePlayer.getInstance().CurClubInfo.clubid,\r\n                };\r\n                MessageFactory.createMessageReq(CLUB_REQ_DISMISS_CLUB_CMD_ID).send(data);\r\n            },\"删除并退出\");\r\n            alert.show(\"您确定是否删除并推出俱乐部？\",AlertViewBtnType.E_BTN_CANCLE);\r\n        }\r\n        else if(BtnName == \"BtnShareBusiness\")\r\n        {\r\n            var shareView = cc.instantiate(this.ShareView);\r\n            this.node.addChild(shareView);\r\n            shareView.setPosition(cc.p(0,0));\r\n            var string = \"我正在玩游戏［\" + GameCallOC.getInstance().getAppName() +\"］,俱乐部(\" +\r\n                            GamePlayer.getInstance().CurClubInfo.clubid+ \")欢迎您的加入！！！\";\r\n            shareView.getComponent(\"ShareView\").setShareTyep(ShareType.E_SHARETYPE_LINK, string, GameSystem.getInstance().clienturl);\r\n        }\r\n        else if(BtnName == \"BtnClubLevel\")\r\n        {\r\n            if(GamePlayer.getInstance().CurClubInfo.owneruid == GamePlayer.getInstance().uid)\r\n            {\r\n                var levelView = cc.instantiate(this.ClubLevelView);\r\n                this.node.addChild(levelView);\r\n                levelView.setPosition(cc.p(0,0));\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    getClubLevelName : function (level) {\r\n        switch (level)\r\n        {\r\n            case 1:\r\n                return \"一星俱乐部\";\r\n            case 2:\r\n                return \"二星俱乐部\";\r\n            case 3:\r\n                return \"三星俱乐部\";\r\n            case 4:\r\n                return \"四星俱乐部\";\r\n            case 5:\r\n                return \"五星俱乐部\";\r\n            case 6:\r\n                return \"六星俱乐部\";\r\n            case 7:\r\n                return \"七星俱乐部\";\r\n            case 8:\r\n                return \"八星俱乐部\";\r\n            case 9:\r\n                return \"九星俱乐部\";\r\n            case 10:\r\n                return \"十星俱乐部\";\r\n        }\r\n    },\r\n});\r\n"
  ]
}
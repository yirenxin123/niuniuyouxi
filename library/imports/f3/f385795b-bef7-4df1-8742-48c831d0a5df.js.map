{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "BasePop",
    "require",
    "ToastView",
    "MusicMgr",
    "Audio_Common",
    "MessageFactory",
    "GamePlayer",
    "GameSystem",
    "cc",
    "Class",
    "extends",
    "properties",
    "Name",
    "EditBox",
    "Intro",
    "onLoad",
    "_super",
    "setClubInfo",
    "log",
    "string",
    "getInstance",
    "CurClubInfo",
    "name",
    "intro",
    "callBackBtn",
    "event",
    "CustomEventData",
    "BtnName",
    "target",
    "getName",
    "playEffect",
    "AUDIO_BTN_CLICK",
    "dismiss",
    "message",
    "popView",
    "btn",
    "GlobalEventManager",
    "emitEvent",
    "window",
    "SocketMessage",
    "tag",
    "MessageType",
    "SCENE_MSG",
    "data",
    "info",
    "clubid",
    "headurl",
    "createMessageReq",
    "CLUB_REQ_MODIFY_INFO_CMD_ID",
    "send",
    "onMessage",
    "msg",
    "cmd",
    "CLUB_RESP_MODIFY_INFO_CMD_ID",
    "onModifyInfoMsg",
    "code",
    "SocketRetCode",
    "RET_SUCCESS",
    "show",
    "desc"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "var BasePop        = require('BasePop');\r\nvar ToastView      = require('ToastView');\r\nvar MusicMgr       = require('MusicMgr');\r\nvar Audio_Common     = require('Audio_Common');\r\nvar MessageFactory = require('MessageFactory');\r\nvar GamePlayer     = require('GamePlayer');\r\nvar GameSystem = require(\"GameSystem\");\r\n\r\ncc.Class({\r\n    extends: BasePop,\r\n\r\n    properties: {\r\n        Name  : cc.EditBox,\r\n        Intro : cc.EditBox,\r\n    },\r\n\r\n    onLoad: function () {\r\n        this._super();\r\n\r\n        this.setClubInfo();\r\n    },\r\n\r\n    setClubInfo: function() {\r\n        cc.log(\"ClubSetView.setClubInfo\");\r\n        this.Name.string  = GamePlayer.getInstance().CurClubInfo.name;\r\n        this.Intro.string = GamePlayer.getInstance().CurClubInfo.intro;\r\n        //info.headurl;\r\n    },\r\n\r\n    callBackBtn : function (event , CustomEventData) {\r\n        var BtnName = event.target.getName();\r\n        cc.log(\"ClubSetView.callBackBtn, BtnName = \" + BtnName);\r\n\r\n        MusicMgr.playEffect(Audio_Common.AUDIO_BTN_CLICK);\r\n\r\n        if (BtnName == \"BtnClose\")\r\n        {\r\n            this.dismiss();\r\n            var message = {\r\n                popView : \"ClubSetView\",\r\n                btn     : \"BtnClose\",\r\n            };\r\n            GlobalEventManager.getInstance().emitEvent(window.SocketMessage,\r\n                          {tag:window.MessageType.SCENE_MSG, data:message});\r\n        }\r\n        else if(BtnName == \"BtnSave\")\r\n        {\r\n            var info = GamePlayer.getInstance().CurClubInfo;\r\n            var data = {\r\n                clubid  : info.clubid,\r\n                headurl : \"\",\r\n                name    : this.Name.string,\r\n                intro   : this.Intro.string,\r\n            };\r\n\r\n            if (data.name == GamePlayer.getInstance().CurClubInfo.name) {\r\n                data.name = \"\";\r\n            }\r\n            cc.log(\"ClubSetView.callBackBtn headurl=\", data.headurl, \" name=\", data.name, \" intro=\", data.intro);\r\n            MessageFactory.createMessageReq(window.CLUB_REQ_MODIFY_INFO_CMD_ID).send(data);\r\n        }\r\n    },\r\n\r\n    onMessage : function (event) {\r\n        cc.log(\"ClubSetView.onMessage\");\r\n        var msg = event.data;\r\n        var cmd = msg.cmd;\r\n        switch (cmd) {\r\n            case window.CLUB_RESP_MODIFY_INFO_CMD_ID:\r\n                this.onModifyInfoMsg(msg);\r\n                break;\r\n        }\r\n    },\r\n\r\n    // ClubId  int    `json:\"clubid\"`\r\n    // Status  int    `json:\"status\"`\r\n    // Name    string `json:\"name\"`\r\n    // HeadUrl string `json:\"headurl\"`\r\n    // Address string `json:\"address\"`\r\n    // Intro   string `json:\"intro\"`\r\n    // Level   int    `json:\"level\"`\r\n    // EndTime int64  `json:\"endtime\"`\r\n    onModifyInfoMsg : function (msg) {\r\n        cc.log(\"ClubSetView.onModifyInfoMsg code=\", msg.code);\r\n        if (msg.code == SocketRetCode.RET_SUCCESS ) {\r\n            GamePlayer.getInstance().CurClubInfo.name  = this.Name.string;\r\n            GamePlayer.getInstance().CurClubInfo.intro = this.Intro.string;\r\n            ToastView.show(\"修改成功！！！\");\r\n        } else {\r\n            ToastView.show(msg.desc);\r\n        }\r\n    },\r\n});\r\n"
  ]
}